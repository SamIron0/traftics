/*! For license information please see tracker.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SessionRecorder=e():t.SessionRecorder=e()}(this,(()=>(()=>{"use strict";var t,e,n,r,a={},i={};function s(t){var e=i[t];if(void 0!==e)return e.exports;var n=i[t]={exports:{}};return a[t].call(n.exports,n,n.exports,s),n.exports}s.m=a,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,s.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var a=Object.create(null);s.r(a);var i={};t=t||[null,e({}),e([]),e(e)];for(var o=2&r&&n;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((t=>i[t]=()=>n[t]));return i.default=()=>n,s.d(a,i),a},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce(((e,n)=>(s.f[n](t,e),e)),[])),s.u=t=>t+".tracker.js",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n={},r="SessionRecorder:",s.l=(t,e,a,i)=>{if(n[t])n[t].push(e);else{var o,l;if(void 0!==a)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var h=d[c];if(h.getAttribute("src")==t||h.getAttribute("data-webpack")==r+a){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",r+a),o.src=t),n[t]=[e];var u=(e,r)=>{o.onerror=o.onload=null,clearTimeout(p);var a=n[t];if(delete n[t],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((t=>t(r))),e)return e(r)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}},s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t})(),(()=>{var t={792:0};s.f.j=(e,n)=>{var r=s.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,a)=>r=t[e]=[n,a]));n.push(r[2]=a);var i=s.p+s.u(e),o=new Error;s.l(i,(n=>{if(s.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,r[1](o)}}),"chunk-"+e,e)}};var e=(e,n)=>{var r,a,i=n[0],o=n[1],l=n[2],d=0;if(i.some((e=>0!==t[e]))){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);l&&l(s)}for(e&&e(n);d<i.length;d++)a=i[d],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0},n=this.webpackChunkSessionRecorder=this.webpackChunkSessionRecorder||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o,l={};function d(t){var e=null==t?void 0:t.host;return Boolean((null==e?void 0:e.shadowRoot)===t)}function c(t){return"[object ShadowRoot]"===Object.prototype.toString.call(t)}function h(t){try{var e=t.rules||t.cssRules;return e?((n=Array.from(e).map(u).join("")).includes(" background-clip: text;")&&!n.includes(" -webkit-background-clip: text;")&&(n=n.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),n):null}catch(t){return null}var n}function u(t){var e=t.cssText;if(function(t){return"styleSheet"in t}(t))try{e=h(t.styleSheet)||e}catch(t){}return e}!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(o||(o={}));var p=function(){function t(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}return t.prototype.getId=function(t){var e;if(!t)return-1;var n=null===(e=this.getMeta(t))||void 0===e?void 0:e.id;return null!=n?n:-1},t.prototype.getNode=function(t){return this.idNodeMap.get(t)||null},t.prototype.getIds=function(){return Array.from(this.idNodeMap.keys())},t.prototype.getMeta=function(t){return this.nodeMetaMap.get(t)||null},t.prototype.removeNodeFromMap=function(t){var e=this,n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach((function(t){return e.removeNodeFromMap(t)}))},t.prototype.has=function(t){return this.idNodeMap.has(t)},t.prototype.hasNode=function(t){return this.nodeMetaMap.has(t)},t.prototype.add=function(t,e){var n=e.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,e)},t.prototype.replace=function(t,e){var n=this.getNode(t);if(n){var r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(e,r)}this.idNodeMap.set(t,e)},t.prototype.reset=function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap},t}();function g(t){var e=t.maskInputOptions,n=t.tagName,r=t.type,a=t.value,i=t.maskInputFn,s=a||"";return(e[n.toLowerCase()]||e[r])&&(s=i?i(s):"*".repeat(s.length)),s}var m,f,b="__rrweb_original__",y=1,I=new RegExp("[^a-z0-9-_:]");function _(){return y++}var w=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,C=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,v=/^(data:)([^,]*),(.*)/i;function k(t,e){return(t||"").replace(w,(function(t,n,r,a,i,s){var o,l=r||i||s,d=n||a||"";if(!l)return t;if(!C.test(l))return"url(".concat(d).concat(l).concat(d,")");if(v.test(l))return"url(".concat(d).concat(l).concat(d,")");if("/"===l[0])return"url(".concat(d).concat((o=e,(o.indexOf("//")>-1?o.split("/").slice(0,3).join("/"):o.split("/")[0]).split("?")[0]+l)).concat(d,")");var c=e.split("/"),h=l.split("/");c.pop();for(var u=0,p=h;u<p.length;u++){var g=p[u];"."!==g&&(".."===g?c.pop():c.push(g))}return"url(".concat(d).concat(c.join("/")).concat(d,")")}))}var S=/^[^ \t\n\r\u000c]+/,A=/^[, \t\n\r\u000c]+/;function x(t,e){if(!e||""===e.trim())return e;var n=t.createElement("a");return n.href=e,n.href}function R(){var t=document.createElement("a");return t.href="",t.href}function T(t,e,n,r){return"src"===n||"href"===n&&r&&("use"!==e||"#"!==r[0])||"xlink:href"===n&&r&&"#"!==r[0]?x(t,r):"background"!==n||!r||"table"!==e&&"td"!==e&&"th"!==e?"srcset"===n&&r?function(t,e){if(""===e.trim())return e;var n=0;function r(t){var r,a=t.exec(e.substring(n));return a?(r=a[0],n+=r.length,r):""}for(var a=[];r(A),!(n>=e.length);){var i=r(S);if(","===i.slice(-1))i=x(t,i.substring(0,i.length-1)),a.push(i);else{var s="";i=x(t,i);for(var o=!1;;){var l=e.charAt(n);if(""===l){a.push((i+s).trim());break}if(o)")"===l&&(o=!1);else{if(","===l){n+=1,a.push((i+s).trim());break}"("===l&&(o=!0)}s+=l,n+=1}}}return a.join(", ")}(t,r):"style"===n&&r?k(r,R()):"object"===e&&"data"===n&&r?x(t,r):r:x(t,r)}function M(t,e,n){if(!t)return!1;if(t.nodeType!==t.ELEMENT_NODE)return!!n&&M(t.parentNode,e,n);for(var r=t.classList.length;r--;){var a=t.classList[r];if(e.test(a))return!0}return!!n&&M(t.parentNode,e,n)}function E(t,e,n){var r=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(null===r)return!1;if("string"==typeof e){if(r.classList.contains(e))return!0;if(r.closest(".".concat(e)))return!0}else if(M(r,e,!0))return!0;if(n){if(r.matches(n))return!0;if(r.closest(n))return!0}return!1}function N(t){return void 0===t?"":t.toLowerCase()}function O(t,e){var n,r=e.doc,a=e.mirror,i=e.blockClass,s=e.blockSelector,l=e.maskTextClass,u=e.maskTextSelector,p=e.skipChild,y=void 0!==p&&p,w=e.inlineStylesheet,C=void 0===w||w,v=e.maskInputOptions,S=void 0===v?{}:v,A=e.maskTextFn,x=e.maskInputFn,M=e.slimDOMOptions,F=e.dataURLOptions,D=void 0===F?{}:F,L=e.inlineImages,z=void 0!==L&&L,Z=e.recordCanvas,U=void 0!==Z&&Z,B=e.onSerialize,W=e.onIframeLoad,G=e.iframeLoadTimeout,V=void 0===G?5e3:G,K=e.onStylesheetLoad,Y=e.stylesheetLoadTimeout,j=void 0===Y?5e3:Y,H=e.keepIframeSrcFn,J=void 0===H?function(){return!1}:H,P=e.newlyAddedElement,Q=void 0!==P&&P,X=e.preserveWhiteSpace,q=void 0===X||X,$=function(t,e){var n=e.doc,r=e.mirror,a=e.blockClass,i=e.blockSelector,s=e.maskTextClass,l=e.maskTextSelector,d=e.inlineStylesheet,c=e.maskInputOptions,u=void 0===c?{}:c,p=e.maskTextFn,y=e.maskInputFn,_=e.dataURLOptions,w=void 0===_?{}:_,C=e.inlineImages,v=e.recordCanvas,S=e.keepIframeSrcFn,A=e.newlyAddedElement,x=void 0!==A&&A,M=function(t,e){if(e.hasNode(t)){var n=e.getId(t);return 1===n?void 0:n}}(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return"CSS1Compat"!==t.compatMode?{type:o.Document,childNodes:[],compatMode:t.compatMode}:{type:o.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:o.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:M};case t.ELEMENT_NODE:return function(t,e){for(var n=e.doc,r=e.inlineStylesheet,a=e.maskInputOptions,i=void 0===a?{}:a,s=e.maskInputFn,l=e.dataURLOptions,d=void 0===l?{}:l,c=e.inlineImages,u=e.recordCanvas,p=e.keepIframeSrcFn,y=e.newlyAddedElement,_=void 0!==y&&y,w=e.rootId,C=function(t,e,n){if("string"==typeof e){if(t.classList.contains(e))return!0}else for(var r=t.classList.length;r--;){var a=t.classList[r];if(e.test(a))return!0}return!!n&&t.matches(n)}(t,e.blockClass,e.blockSelector),v=function(t){if(t instanceof HTMLFormElement)return"form";var e=t.tagName.toLowerCase().trim();return I.test(e)?"div":e}(t),S={},A=t.attributes.length,x=0;x<A;x++){var M=t.attributes[x];S[M.name]=T(n,v,M.name,M.value)}if("link"===v&&r){var E=Array.from(n.styleSheets).find((function(e){return e.href===t.href})),N=null;E&&(N=h(E)),N&&(delete S.rel,delete S.href,S._cssText=k(N,E.href))}if("style"===v&&t.sheet&&!(t.innerText||t.textContent||"").trim().length&&(N=h(t.sheet))&&(S._cssText=k(N,R())),"input"===v||"textarea"===v||"select"===v){var O=t.value,F=t.checked;"radio"!==S.type&&"checkbox"!==S.type&&"submit"!==S.type&&"button"!==S.type&&O?S.value=g({type:S.type,tagName:v,value:O,maskInputOptions:i,maskInputFn:s}):F&&(S.checked=F)}if("option"===v&&(t.selected&&!i.select?S.selected=!0:delete S.selected),"canvas"===v&&u)if("2d"===t.__context)(function(t){var e=t.getContext("2d");if(!e)return!0;for(var n=0;n<t.width;n+=50)for(var r=0;r<t.height;r+=50){var a=e.getImageData,i=b in a?a[b]:a;if(new Uint32Array(i.call(e,n,r,Math.min(50,t.width-n),Math.min(50,t.height-r)).data.buffer).some((function(t){return 0!==t})))return!1}return!0})(t)||(S.rr_dataURL=t.toDataURL(d.type,d.quality));else if(!("__context"in t)){var D=t.toDataURL(d.type,d.quality),L=document.createElement("canvas");L.width=t.width,L.height=t.height,D!==L.toDataURL(d.type,d.quality)&&(S.rr_dataURL=D)}if("img"===v&&c){m||(m=n.createElement("canvas"),f=m.getContext("2d"));var z=t,Z=z.crossOrigin;z.crossOrigin="anonymous";var U=function(){try{m.width=z.naturalWidth,m.height=z.naturalHeight,f.drawImage(z,0,0),S.rr_dataURL=m.toDataURL(d.type,d.quality)}catch(t){console.warn("Cannot inline img src=".concat(z.currentSrc,"! Error: ").concat(t))}Z?S.crossOrigin=Z:z.removeAttribute("crossorigin")};z.complete&&0!==z.naturalWidth?U():z.onload=U}if("audio"!==v&&"video"!==v||(S.rr_mediaState=t.paused?"paused":"played",S.rr_mediaCurrentTime=t.currentTime),_||(t.scrollLeft&&(S.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(S.rr_scrollTop=t.scrollTop)),C){var B=t.getBoundingClientRect(),W=B.width,G=B.height;S={class:S.class,rr_width:"".concat(W,"px"),rr_height:"".concat(G,"px")}}return"iframe"!==v||p(S.src)||(t.contentDocument||(S.rr_src=S.src),delete S.src),{type:o.Element,tagName:v,attributes:S,childNodes:[],isSVG:(V=t,Boolean("svg"===V.tagName||V.ownerSVGElement)||void 0),needBlock:C,rootId:w};var V}(t,{doc:n,blockClass:a,blockSelector:i,inlineStylesheet:d,maskInputOptions:u,maskInputFn:y,dataURLOptions:w,inlineImages:C,recordCanvas:v,keepIframeSrcFn:S,newlyAddedElement:x,rootId:M});case t.TEXT_NODE:return function(t,e){var n,r,a=e.maskTextClass,i=e.maskTextSelector,s=e.maskTextFn,l=e.rootId,d=t.parentNode&&t.parentNode.tagName,c=t.textContent,h="STYLE"===d||void 0,u="SCRIPT"===d||void 0;if(h&&c){try{t.nextSibling||t.previousSibling||(null===(n=t.parentNode.sheet)||void 0===n?void 0:n.cssRules)&&(c=(r=t.parentNode.sheet).cssRules?Array.from(r.cssRules).map((function(t){return t.cssText||""})).join(""):"")}catch(e){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(e),t)}c=k(c,R())}return u&&(c="SCRIPT_PLACEHOLDER"),!h&&!u&&c&&E(t,a,i)&&(c=s?s(c):c.replace(/[\S]/g,"*")),{type:o.Text,textContent:c||"",isStyle:h,rootId:l}}(t,{maskTextClass:s,maskTextSelector:l,maskTextFn:p,rootId:M});case t.CDATA_SECTION_NODE:return{type:o.CDATA,textContent:"",rootId:M};case t.COMMENT_NODE:return{type:o.Comment,textContent:t.textContent||"",rootId:M};default:return!1}}(t,{doc:r,mirror:a,blockClass:i,blockSelector:s,maskTextClass:l,maskTextSelector:u,inlineStylesheet:C,maskInputOptions:S,maskTextFn:A,maskInputFn:x,dataURLOptions:D,inlineImages:z,recordCanvas:U,keepIframeSrcFn:J,newlyAddedElement:Q});if(!$)return console.warn(t,"not serialized"),null;n=a.hasNode(t)?a.getId(t):!function(t,e){if(e.comment&&t.type===o.Comment)return!0;if(t.type===o.Element){if(e.script&&("script"===t.tagName||"link"===t.tagName&&"preload"===t.attributes.rel&&"script"===t.attributes.as||"link"===t.tagName&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(N(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===N(t.attributes.name)||"icon"===N(t.attributes.rel)||"apple-touch-icon"===N(t.attributes.rel)||"shortcut icon"===N(t.attributes.rel))))return!0;if("meta"===t.tagName){if(e.headMetaDescKeywords&&N(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(N(t.attributes.property).match(/^(og|twitter|fb):/)||N(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===N(t.attributes.name)))return!0;if(e.headMetaRobots&&("robots"===N(t.attributes.name)||"googlebot"===N(t.attributes.name)||"bingbot"===N(t.attributes.name)))return!0;if(e.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"])return!0;if(e.headMetaAuthorship&&("author"===N(t.attributes.name)||"generator"===N(t.attributes.name)||"framework"===N(t.attributes.name)||"publisher"===N(t.attributes.name)||"progid"===N(t.attributes.name)||N(t.attributes.property).match(/^article:/)||N(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&("google-site-verification"===N(t.attributes.name)||"yandex-verification"===N(t.attributes.name)||"csrf-token"===N(t.attributes.name)||"p:domain_verify"===N(t.attributes.name)||"verify-v1"===N(t.attributes.name)||"verification"===N(t.attributes.name)||"shopify-checkout-api-token"===N(t.attributes.name)))return!0}}return!1}($,M)&&(q||$.type!==o.Text||$.isStyle||$.textContent.replace(/^\s+|\s+$/gm,"").length)?_():-2;var tt=Object.assign($,{id:n});if(a.add(t,tt),-2===n)return null;B&&B(t);var et=!y;if(tt.type===o.Element){et=et&&!tt.needBlock,delete tt.needBlock;var nt=t.shadowRoot;nt&&c(nt)&&(tt.isShadowHost=!0)}if((tt.type===o.Document||tt.type===o.Element)&&et){M.headWhitespace&&tt.type===o.Element&&"head"===tt.tagName&&(q=!1);for(var rt={doc:r,mirror:a,blockClass:i,blockSelector:s,maskTextClass:l,maskTextSelector:u,skipChild:y,inlineStylesheet:C,maskInputOptions:S,maskTextFn:A,maskInputFn:x,slimDOMOptions:M,dataURLOptions:D,inlineImages:z,recordCanvas:U,preserveWhiteSpace:q,onSerialize:B,onIframeLoad:W,iframeLoadTimeout:V,onStylesheetLoad:K,stylesheetLoadTimeout:j,keepIframeSrcFn:J},at=0,it=Array.from(t.childNodes);at<it.length;at++)(lt=O(it[at],rt))&&tt.childNodes.push(lt);if(function(t){return t.nodeType===t.ELEMENT_NODE}(t)&&t.shadowRoot)for(var st=0,ot=Array.from(t.shadowRoot.childNodes);st<ot.length;st++){var lt;(lt=O(ot[st],rt))&&(c(t.shadowRoot)&&(lt.isShadow=!0),tt.childNodes.push(lt))}}return t.parentNode&&d(t.parentNode)&&c(t.parentNode)&&(tt.isShadow=!0),tt.type===o.Element&&"iframe"===tt.tagName&&function(t,e,n){var r=t.contentWindow;if(r){var a,i=!1;try{a=r.document.readyState}catch(t){return}if("complete"===a){var s="about:blank";if(r.location.href!==s||t.src===s||""===t.src)return setTimeout(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}else{var o=setTimeout((function(){i||(e(),i=!0)}),n);t.addEventListener("load",(function(){clearTimeout(o),i=!0,e()}))}}}(t,(function(){var e=t.contentDocument;if(e&&W){var n=O(e,{doc:e,mirror:a,blockClass:i,blockSelector:s,maskTextClass:l,maskTextSelector:u,skipChild:!1,inlineStylesheet:C,maskInputOptions:S,maskTextFn:A,maskInputFn:x,slimDOMOptions:M,dataURLOptions:D,inlineImages:z,recordCanvas:U,preserveWhiteSpace:q,onSerialize:B,onIframeLoad:W,iframeLoadTimeout:V,onStylesheetLoad:K,stylesheetLoadTimeout:j,keepIframeSrcFn:J});n&&W(t,n)}}),V),tt.type===o.Element&&"link"===tt.tagName&&"stylesheet"===tt.attributes.rel&&function(t,e,n){var r,a=!1;try{r=t.sheet}catch(t){return}if(!r){var i=setTimeout((function(){a||(e(),a=!0)}),n);t.addEventListener("load",(function(){clearTimeout(i),a=!0,e()}))}}(t,(function(){if(K){var e=O(t,{doc:r,mirror:a,blockClass:i,blockSelector:s,maskTextClass:l,maskTextSelector:u,skipChild:!1,inlineStylesheet:C,maskInputOptions:S,maskTextFn:A,maskInputFn:x,slimDOMOptions:M,dataURLOptions:D,inlineImages:z,recordCanvas:U,preserveWhiteSpace:q,onSerialize:B,onIframeLoad:W,iframeLoadTimeout:V,onStylesheetLoad:K,stylesheetLoadTimeout:j,keepIframeSrcFn:J});e&&K(t,e)}}),j),tt}function F(t,e,n=document){const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}new RegExp(/([^\\]):hover/.source,"g");const D="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let L={map:{},getId:()=>(console.error(D),-1),getNode:()=>(console.error(D),null),removeNodeFromMap(){console.error(D)},has:()=>(console.error(D),!1),reset(){console.error(D)}};function z(t,e,n={}){let r=null,a=0;return function(...i){const s=Date.now();a||!1!==n.leading||(a=s);const o=e-(s-a),l=this;o<=0||o>e?(r&&(clearTimeout(r),r=null),a=s,t.apply(l,i)):r||!1===n.trailing||(r=setTimeout((()=>{a=!1===n.leading?0:Date.now(),r=null,t.apply(l,i)}),o))}}function Z(t,e,n,r,a=window){const i=a.Object.getOwnPropertyDescriptor(t,e);return a.Object.defineProperty(t,e,r?n:{set(t){setTimeout((()=>{n.set.call(this,t)}),0),i&&i.set&&i.set.call(this,t)}}),()=>Z(t,e,i||{},!0)}function U(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],a=n(r);return"function"==typeof a&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=a,()=>{t[e]=r}}catch(t){return()=>{}}}function B(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function W(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function G(t,e,n,r){if(!t)return!1;const a=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(!a)return!1;if("string"==typeof e){if(a.classList.contains(e))return!0;if(r&&null!==a.closest("."+e))return!0}else if(M(a,e,r))return!0;if(n){if(t.matches(n))return!0;if(r&&null!==a.closest(n))return!0}return!1}function V(t,e){return-2===e.getId(t)}function K(t,e){if(d(t))return!1;const n=e.getId(t);return!e.has(n)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||K(t.parentNode,e))}function Y(t){return Boolean(t.changedTouches)}function j(t,e){return Boolean("IFRAME"===t.nodeName&&e.getMeta(t))}function H(t,e){return Boolean("LINK"===t.nodeName&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&"stylesheet"===t.getAttribute("rel")&&e.getMeta(t))}function J(t){return Boolean(null==t?void 0:t.shadowRoot)}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(L=new Proxy(L,{get:(t,e,n)=>("map"===e&&console.error(D),Reflect.get(t,e,n))}));class P{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var e;return null!==(e=this.styleIDMap.get(t))&&void 0!==e?e:-1}has(t){return this.styleIDMap.has(t)}add(t,e){if(this.has(t))return this.getId(t);let n;return n=void 0===e?this.id++:e,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}var Q=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Q||{}),X=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t))(X||{}),q=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(q||{}),$=(t=>(t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2",t))($||{});function tt(t){return"__ln"in t}class et{constructor(){this.length=0,this.head=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let e=this.head;for(let n=0;n<t;n++)e=(null==e?void 0:e.next)||null;return e}addNode(t){const e={value:t,previous:null,next:null};if(t.__ln=e,t.previousSibling&&tt(t.previousSibling)){const n=t.previousSibling.__ln.next;e.next=n,e.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=e,n&&(n.previous=e)}else if(t.nextSibling&&tt(t.nextSibling)&&t.nextSibling.__ln.previous){const n=t.nextSibling.__ln.previous;e.previous=n,e.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=e,n&&(n.next=e)}else this.head&&(this.head.previous=e),e.next=this.head,this.head=e;this.length++}removeNode(t){const e=t.__ln;this.head&&(e.previous?(e.previous.next=e.next,e.next&&(e.next.previous=e.previous)):(this.head=e.next,this.head&&(this.head.previous=null)),t.__ln&&delete t.__ln,this.length--)}}const nt=(t,e)=>`${t}@${e}`;class rt{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],e=new et,n=t=>{let e=t,n=-2;for(;-2===n;)e=e&&e.nextSibling,n=e&&this.mirror.getId(e);return n},r=r=>{var a,i,s,o;let l=null;(null===(i=null===(a=r.getRootNode)||void 0===a?void 0:a.call(r))||void 0===i?void 0:i.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&r.getRootNode().host&&(l=r.getRootNode().host);let c=l;for(;(null===(o=null===(s=null==c?void 0:c.getRootNode)||void 0===s?void 0:s.call(c))||void 0===o?void 0:o.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&c.getRootNode().host;)c=c.getRootNode().host;const h=!(this.doc.contains(r)||c&&this.doc.contains(c));if(!r.parentNode||h)return;const u=d(r.parentNode)?this.mirror.getId(l):this.mirror.getId(r.parentNode),p=n(r);if(-1===u||-1===p)return e.addNode(r);const g=O(r,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:t=>{j(t,this.mirror)&&this.iframeManager.addIframe(t),H(t,this.mirror)&&this.stylesheetManager.trackLinkElement(t),J(r)&&this.shadowDomManager.addShadowRoot(r.shadowRoot,this.doc)},onIframeLoad:(t,e)=>{this.iframeManager.attachIframe(t,e),this.shadowDomManager.observeAttachShadow(t)},onStylesheetLoad:(t,e)=>{this.stylesheetManager.attachLinkElement(t,e)}});g&&t.push({parentId:u,nextId:p,node:g})};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const t of Array.from(this.movedSet.values()))it(this.removes,t,this.mirror)&&!this.movedSet.has(t.parentNode)||r(t);for(const t of Array.from(this.addedSet.values()))ot(this.droppedSet,t)||it(this.removes,t,this.mirror)?ot(this.movedSet,t)?r(t):this.droppedSet.add(t):r(t);let a=null;for(;e.length;){let t=null;if(a){const e=this.mirror.getId(a.value.parentNode),r=n(a.value);-1!==e&&-1!==r&&(t=a)}if(!t)for(let r=e.length-1;r>=0;r--){const a=e.get(r);if(a){const e=this.mirror.getId(a.value.parentNode);if(-1===n(a.value))continue;if(-1!==e){t=a;break}{const e=a.value;if(e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const n=e.parentNode.host;if(-1!==this.mirror.getId(n)){t=a;break}}}}}if(!t){for(;e.head;)e.removeNode(e.head.value);break}a=t.previous,e.removeNode(t.value),r(t.value)}const i={texts:this.texts.map((t=>({id:this.mirror.getId(t.node),value:t.value}))).filter((t=>this.mirror.has(t.id))),attributes:this.attributes.map((t=>({id:this.mirror.getId(t.node),attributes:t.attributes}))).filter((t=>this.mirror.has(t.id))),removes:this.removes,adds:t};(i.texts.length||i.attributes.length||i.removes.length||i.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(i))},this.processMutation=t=>{if(!V(t.target,this.mirror))switch(t.type){case"characterData":{const e=t.target.textContent;G(t.target,this.blockClass,this.blockSelector,!1)||e===t.oldValue||this.texts.push({value:E(t.target,this.maskTextClass,this.maskTextSelector)&&e?this.maskTextFn?this.maskTextFn(e):e.replace(/[\S]/g,"*"):e,node:t.target});break}case"attributes":{const e=t.target;let n=t.target.getAttribute(t.attributeName);if("value"===t.attributeName&&(n=g({maskInputOptions:this.maskInputOptions,tagName:t.target.tagName,type:t.target.getAttribute("type"),value:n,maskInputFn:this.maskInputFn})),G(t.target,this.blockClass,this.blockSelector,!1)||n===t.oldValue)return;let r=this.attributes.find((e=>e.node===t.target));if("IFRAME"===e.tagName&&"src"===t.attributeName&&!this.keepIframeSrcFn(n)){if(e.contentDocument)return;t.attributeName="rr_src"}if(r||(r={node:t.target,attributes:{}},this.attributes.push(r)),"style"===t.attributeName){const n=this.doc.createElement("span");t.oldValue&&n.setAttribute("style",t.oldValue),void 0!==r.attributes.style&&null!==r.attributes.style||(r.attributes.style={});const a=r.attributes.style;for(const t of Array.from(e.style)){const r=e.style.getPropertyValue(t),i=e.style.getPropertyPriority(t);r===n.style.getPropertyValue(t)&&i===n.style.getPropertyPriority(t)||(a[t]=""===i?r:[r,i])}for(const t of Array.from(n.style))""===e.style.getPropertyValue(t)&&(a[t]=!1)}else r.attributes[t.attributeName]=T(this.doc,e.tagName,t.attributeName,n);break}case"childList":if(G(t.target,this.blockClass,this.blockSelector,!0))return;t.addedNodes.forEach((e=>this.genAdds(e,t.target))),t.removedNodes.forEach((e=>{const n=this.mirror.getId(e),r=d(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);G(t.target,this.blockClass,this.blockSelector,!1)||V(e,this.mirror)||!function(t,e){return-1!==e.getId(t)}(e,this.mirror)||(this.addedSet.has(e)?(at(this.addedSet,e),this.droppedSet.add(e)):this.addedSet.has(t.target)&&-1===n||K(t.target,this.mirror)||(this.movedSet.has(e)&&this.movedMap[nt(n,r)]?at(this.movedSet,e):this.removes.push({parentId:r,id:n,isShadow:!(!d(t.target)||!c(t.target))||void 0})),this.mapRemoves.push(e))}))}},this.genAdds=(t,e)=>{if(this.mirror.hasNode(t)){if(V(t,this.mirror))return;this.movedSet.add(t);let n=null;e&&this.mirror.hasNode(e)&&(n=this.mirror.getId(e)),n&&-1!==n&&(this.movedMap[nt(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);G(t,this.blockClass,this.blockSelector,!1)||t.childNodes.forEach((t=>this.genAdds(t)))}}init(t){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager"].forEach((e=>{this[e]=t[e]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function at(t,e){t.delete(e),e.childNodes.forEach((e=>at(t,e)))}function it(t,e,n){return 0!==t.length&&st(t,e,n)}function st(t,e,n){const{parentNode:r}=e;if(!r)return!1;const a=n.getId(r);return!!t.some((t=>t.id===a))||st(t,r,n)}function ot(t,e){return 0!==t.size&&lt(t,e)}function lt(t,e){const{parentNode:n}=e;return!!n&&(!!t.has(n)||lt(t,n))}const dt=[],ct="undefined"!=typeof CSSGroupingRule,ht="undefined"!=typeof CSSMediaRule,ut="undefined"!=typeof CSSSupportsRule,pt="undefined"!=typeof CSSConditionRule;function gt(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0];return t.target}catch(e){return t.target}}function mt(t,e){var n,r;const a=new rt;dt.push(a),a.init(t);let i=window.MutationObserver||window.__rrMutationObserver;const s=null===(r=null===(n=null===window||void 0===window?void 0:window.Zone)||void 0===n?void 0:n.__symbol__)||void 0===r?void 0:r.call(n,"MutationObserver");s&&window[s]&&(i=window[s]);const o=new i(a.processMutations.bind(a));return o.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function ft({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:a,sampling:i}){return F("scroll",z((i=>{const s=gt(i);if(!s||G(s,r,a,!0))return;const o=n.getId(s);if(s===e){const n=e.scrollingElement||e.documentElement;t({id:o,x:n.scrollLeft,y:n.scrollTop})}else t({id:o,x:s.scrollLeft,y:s.scrollTop})}),i.scroll||100),e)}function bt(t,e){const n=Object.assign({},t);return e||delete n.userTriggered,n}const yt=["INPUT","TEXTAREA","SELECT"],It=new WeakMap;function _t(t){return function(t,e){if(ct&&t.parentRule instanceof CSSGroupingRule||ht&&t.parentRule instanceof CSSMediaRule||ut&&t.parentRule instanceof CSSSupportsRule||pt&&t.parentRule instanceof CSSConditionRule){const n=Array.from(t.parentRule.cssRules).indexOf(t);e.unshift(n)}else if(t.parentStyleSheet){const n=Array.from(t.parentStyleSheet.cssRules).indexOf(t);e.unshift(n)}return e}(t,[])}function wt(t,e,n){let r,a;return t?(t.ownerNode?r=e.getId(t.ownerNode):a=n.getId(t),{styleId:a,id:r}):{}}function Ct({mirror:t,stylesheetManager:e},n){var r,a,i;let s=null;s="#document"===n.nodeName?t.getId(n):t.getId(n.host);const o="#document"===n.nodeName?null===(r=n.defaultView)||void 0===r?void 0:r.Document:null===(i=null===(a=n.ownerDocument)||void 0===a?void 0:a.defaultView)||void 0===i?void 0:i.ShadowRoot,l=Object.getOwnPropertyDescriptor(null==o?void 0:o.prototype,"adoptedStyleSheets");return null!==s&&-1!==s&&o&&l?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){var t;return null===(t=l.get)||void 0===t?void 0:t.call(this)},set(t){var n;const r=null===(n=l.set)||void 0===n?void 0:n.call(this,t);if(null!==s&&-1!==s)try{e.adoptStyleSheets(t,s)}catch(t){}return r}}),()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}):()=>{}}function vt(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};!function(t,e){const{mutationCb:n,mousemoveCb:r,mouseInteractionCb:a,scrollCb:i,viewportResizeCb:s,inputCb:o,mediaInteractionCb:l,styleSheetRuleCb:d,styleDeclarationCb:c,canvasMutationCb:h,fontCb:u,selectionCb:p}=t;t.mutationCb=(...t)=>{e.mutation&&e.mutation(...t),n(...t)},t.mousemoveCb=(...t)=>{e.mousemove&&e.mousemove(...t),r(...t)},t.mouseInteractionCb=(...t)=>{e.mouseInteraction&&e.mouseInteraction(...t),a(...t)},t.scrollCb=(...t)=>{e.scroll&&e.scroll(...t),i(...t)},t.viewportResizeCb=(...t)=>{e.viewportResize&&e.viewportResize(...t),s(...t)},t.inputCb=(...t)=>{e.input&&e.input(...t),o(...t)},t.mediaInteractionCb=(...t)=>{e.mediaInteaction&&e.mediaInteaction(...t),l(...t)},t.styleSheetRuleCb=(...t)=>{e.styleSheetRule&&e.styleSheetRule(...t),d(...t)},t.styleDeclarationCb=(...t)=>{e.styleDeclaration&&e.styleDeclaration(...t),c(...t)},t.canvasMutationCb=(...t)=>{e.canvasMutation&&e.canvasMutation(...t),h(...t)},t.fontCb=(...t)=>{e.font&&e.font(...t),u(...t)},t.selectionCb=(...t)=>{e.selection&&e.selection(...t),p(...t)}}(t,e);const r=mt(t,t.doc),a=function({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(!1===e.mousemove)return()=>{};const a="number"==typeof e.mousemove?e.mousemove:50,i="number"==typeof e.mousemoveCallback?e.mousemoveCallback:500;let s,o=[];const l=z((e=>{const n=Date.now()-s;t(o.map((t=>(t.timeOffset-=n,t))),e),o=[],s=null}),i),d=z((t=>{const e=gt(t),{clientX:n,clientY:a}=Y(t)?t.changedTouches[0]:t;s||(s=Date.now()),o.push({x:n,y:a,id:r.getId(e),timeOffset:Date.now()-s}),l("undefined"!=typeof DragEvent&&t instanceof DragEvent?X.Drag:t instanceof MouseEvent?X.MouseMove:X.TouchMove)}),a,{trailing:!1}),c=[F("mousemove",d,n),F("touchmove",d,n),F("drag",d,n)];return()=>{c.forEach((t=>t()))}}(t),i=function({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:a,sampling:i}){if(!1===i.mouseInteraction)return()=>{};const s=!0===i.mouseInteraction||void 0===i.mouseInteraction?{}:i.mouseInteraction,o=[];return Object.keys(q).filter((t=>Number.isNaN(Number(t))&&!t.endsWith("_Departed")&&!1!==s[t])).forEach((i=>{const s=i.toLowerCase(),l=(e=>i=>{const s=gt(i);if(G(s,r,a,!0))return;const o=Y(i)?i.changedTouches[0]:i;if(!o)return;const l=n.getId(s),{clientX:d,clientY:c}=o;t({type:q[e],id:l,x:d,y:c})})(i);o.push(F(s,l,e))})),()=>{o.forEach((t=>t()))}}(t),s=ft(t),o=function({viewportResizeCb:t}){let e=-1,n=-1;return F("resize",z((()=>{const r=B(),a=W();e===r&&n===a||(t({width:Number(a),height:Number(r)}),e=r,n=a)}),200),window)}(t),l=function({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:a,ignoreClass:i,maskInputOptions:s,maskInputFn:o,sampling:l,userTriggeredOnInput:d}){function c(t){let n=gt(t);const l=t.isTrusted;if(n&&"OPTION"===n.tagName&&(n=n.parentElement),!n||!n.tagName||yt.indexOf(n.tagName)<0||G(n,r,a,!0))return;const c=n.type;if(n.classList.contains(i))return;let u=n.value,p=!1;"radio"===c||"checkbox"===c?p=n.checked:(s[n.tagName.toLowerCase()]||s[c])&&(u=g({maskInputOptions:s,tagName:n.tagName,type:c,value:u,maskInputFn:o})),h(n,bt({text:u,isChecked:p,userTriggered:l},d));const m=n.name;"radio"===c&&m&&p&&e.querySelectorAll(`input[type="radio"][name="${m}"]`).forEach((t=>{t!==n&&h(t,bt({text:t.value,isChecked:!p,userTriggered:!1},d))}))}function h(e,r){const a=It.get(e);if(!a||a.text!==r.text||a.isChecked!==r.isChecked){It.set(e,r);const a=n.getId(e);t(Object.assign(Object.assign({},r),{id:a}))}}const u=("last"===l.input?["change"]:["input","change"]).map((t=>F(t,c,e))),p=e.defaultView;if(!p)return()=>{u.forEach((t=>t()))};const m=p.Object.getOwnPropertyDescriptor(p.HTMLInputElement.prototype,"value"),f=[[p.HTMLInputElement.prototype,"value"],[p.HTMLInputElement.prototype,"checked"],[p.HTMLSelectElement.prototype,"value"],[p.HTMLTextAreaElement.prototype,"value"],[p.HTMLSelectElement.prototype,"selectedIndex"],[p.HTMLOptionElement.prototype,"selected"]];return m&&m.set&&u.push(...f.map((t=>Z(t[0],t[1],{set(){c({target:this})}},!1,p)))),()=>{u.forEach((t=>t()))}}(t),d=function({mediaInteractionCb:t,blockClass:e,blockSelector:n,mirror:r,sampling:a}){const i=i=>z((a=>{const s=gt(a);if(!s||G(s,e,n,!0))return;const{currentTime:o,volume:l,muted:d,playbackRate:c}=s;t({type:i,id:r.getId(s),currentTime:o,volume:l,muted:d,playbackRate:c})}),a.media||500),s=[F("play",i(0)),F("pause",i(1)),F("seeked",i(2)),F("volumechange",i(3)),F("ratechange",i(4))];return()=>{s.forEach((t=>t()))}}(t),c=function({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:r}){const a=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=function(r,i){const{id:s,styleId:o}=wt(this,e,n.styleMirror);return(s&&-1!==s||o&&-1!==o)&&t({id:s,styleId:o,adds:[{rule:r,index:i}]}),a.apply(this,[r,i])};const i=r.CSSStyleSheet.prototype.deleteRule;let s,o;r.CSSStyleSheet.prototype.deleteRule=function(r){const{id:a,styleId:s}=wt(this,e,n.styleMirror);return(a&&-1!==a||s&&-1!==s)&&t({id:a,styleId:s,removes:[{index:r}]}),i.apply(this,[r])},r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=function(r){const{id:a,styleId:i}=wt(this,e,n.styleMirror);return(a&&-1!==a||i&&-1!==i)&&t({id:a,styleId:i,replace:r}),s.apply(this,[r])}),r.CSSStyleSheet.prototype.replaceSync&&(o=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=function(r){const{id:a,styleId:i}=wt(this,e,n.styleMirror);return(a&&-1!==a||i&&-1!==i)&&t({id:a,styleId:i,replaceSync:r}),o.apply(this,[r])});const l={};ct?l.CSSGroupingRule=r.CSSGroupingRule:(ht&&(l.CSSMediaRule=r.CSSMediaRule),pt&&(l.CSSConditionRule=r.CSSConditionRule),ut&&(l.CSSSupportsRule=r.CSSSupportsRule));const d={};return Object.entries(l).forEach((([r,a])=>{d[r]={insertRule:a.prototype.insertRule,deleteRule:a.prototype.deleteRule},a.prototype.insertRule=function(a,i){const{id:s,styleId:o}=wt(this.parentStyleSheet,e,n.styleMirror);return(s&&-1!==s||o&&-1!==o)&&t({id:s,styleId:o,adds:[{rule:a,index:[..._t(this),i||0]}]}),d[r].insertRule.apply(this,[a,i])},a.prototype.deleteRule=function(a){const{id:i,styleId:s}=wt(this.parentStyleSheet,e,n.styleMirror);return(i&&-1!==i||s&&-1!==s)&&t({id:i,styleId:s,removes:[{index:[..._t(this),a]}]}),d[r].deleteRule.apply(this,[a])}})),()=>{r.CSSStyleSheet.prototype.insertRule=a,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),o&&(r.CSSStyleSheet.prototype.replaceSync=o),Object.entries(l).forEach((([t,e])=>{e.prototype.insertRule=d[t].insertRule,e.prototype.deleteRule=d[t].deleteRule}))}}(t,{win:n}),h=Ct(t,t.doc),u=function({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:r},{win:a}){const i=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=function(a,s,o){var l;if(n.has(a))return i.apply(this,[a,s,o]);const{id:d,styleId:c}=wt(null===(l=this.parentRule)||void 0===l?void 0:l.parentStyleSheet,e,r.styleMirror);return(d&&-1!==d||c&&-1!==c)&&t({id:d,styleId:c,set:{property:a,value:s,priority:o},index:_t(this.parentRule)}),i.apply(this,[a,s,o])};const s=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=function(a){var i;if(n.has(a))return s.apply(this,[a]);const{id:o,styleId:l}=wt(null===(i=this.parentRule)||void 0===i?void 0:i.parentStyleSheet,e,r.styleMirror);return(o&&-1!==o||l&&-1!==l)&&t({id:o,styleId:l,remove:{property:a},index:_t(this.parentRule)}),s.apply(this,[a])},()=>{a.CSSStyleDeclaration.prototype.setProperty=i,a.CSSStyleDeclaration.prototype.removeProperty=s}}(t,{win:n}),p=t.collectFonts?function({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],a=new WeakMap,i=n.FontFace;n.FontFace=function(t,e,n){const r=new i(t,e,n);return a.set(r,{family:t,buffer:"string"!=typeof e,descriptors:n,fontSource:"string"==typeof e?e:JSON.stringify(Array.from(new Uint8Array(e)))}),r};const s=U(e.fonts,"add",(function(e){return function(n){return setTimeout((()=>{const e=a.get(n);e&&(t(e),a.delete(n))}),0),e.apply(this,[n])}}));return r.push((()=>{n.FontFace=i})),r.push(s),()=>{r.forEach((t=>t()))}}(t):()=>{},m=function(t){const{doc:e,mirror:n,blockClass:r,blockSelector:a,selectionCb:i}=t;let s=!0;const o=()=>{const t=e.getSelection();if(!t||s&&(null==t?void 0:t.isCollapsed))return;s=t.isCollapsed||!1;const o=[],l=t.rangeCount||0;for(let e=0;e<l;e++){const i=t.getRangeAt(e),{startContainer:s,startOffset:l,endContainer:d,endOffset:c}=i;G(s,r,a,!0)||G(d,r,a,!0)||o.push({start:n.getId(s),startOffset:l,end:n.getId(d),endOffset:c})}i({ranges:o})};return o(),F("selectionchange",o)}(t),f=[];for(const e of t.plugins)f.push(e.observer(e.callback,n,e.options));return()=>{dt.forEach((t=>t.reset())),r.disconnect(),a(),i(),s(),o(),l(),d(),c(),h(),u(),p(),m(),f.forEach((t=>t()))}}class kt{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,e,n,r){const a=n||this.getIdToRemoteIdMap(t),i=r||this.getRemoteIdToIdMap(t);let s=a.get(e);return s||(s=this.generateIdFn(),a.set(e,s),i.set(s,e)),s}getIds(t,e){const n=this.getIdToRemoteIdMap(t),r=this.getRemoteIdToIdMap(t);return e.map((e=>this.getId(t,e,n,r)))}getRemoteId(t,e,n){const r=n||this.getRemoteIdToIdMap(t);if("number"!=typeof e)return e;return r.get(e)||-1}getRemoteIds(t,e){const n=this.getRemoteIdToIdMap(t);return e.map((e=>this.getRemoteId(t,e,n)))}reset(t){if(!t)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let e=this.iframeIdToRemoteIdMap.get(t);return e||(e=new Map,this.iframeIdToRemoteIdMap.set(t,e)),e}getRemoteIdToIdMap(t){let e=this.iframeRemoteIdToIdMap.get(t);return e||(e=new Map,this.iframeRemoteIdToIdMap.set(t,e)),e}}class St{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new kt(_),this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new kt(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,e){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:e}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){if("rrweb"===t.data.type){if(!t.source)return;const e=this.crossOriginIframeMap.get(t.source);if(!e)return;const n=this.transformCrossOriginEvent(e,t.data.event);n&&this.wrappedEmit(n,t.data.isCheckout)}}transformCrossOriginEvent(t,e){var n;switch(e.type){case Q.FullSnapshot:return this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(e.data.node,t),{timestamp:e.timestamp,type:Q.IncrementalSnapshot,data:{source:X.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:e.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case Q.Meta:case Q.Load:case Q.DomContentLoaded:return!1;case Q.Plugin:return e;case Q.Custom:return this.replaceIds(e.data.payload,t,["id","parentId","previousId","nextId"]),e;case Q.IncrementalSnapshot:switch(e.data.source){case X.Mutation:return e.data.adds.forEach((e=>{this.replaceIds(e,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(e.node,t)})),e.data.removes.forEach((e=>{this.replaceIds(e,t,["parentId","id"])})),e.data.attributes.forEach((e=>{this.replaceIds(e,t,["id"])})),e.data.texts.forEach((e=>{this.replaceIds(e,t,["id"])})),e;case X.Drag:case X.TouchMove:case X.MouseMove:return e.data.positions.forEach((e=>{this.replaceIds(e,t,["id"])})),e;case X.ViewportResize:return!1;case X.MediaInteraction:case X.MouseInteraction:case X.Scroll:case X.CanvasMutation:case X.Input:return this.replaceIds(e.data,t,["id"]),e;case X.StyleSheetRule:case X.StyleDeclaration:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleId"]),e;case X.Font:return e;case X.Selection:return e.data.ranges.forEach((e=>{this.replaceIds(e,t,["start","end"])})),e;case X.AdoptedStyleSheet:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleIds"]),null===(n=e.data.styles)||void 0===n||n.forEach((e=>{this.replaceStyleIds(e,t,["styleId"])})),e}}}replace(t,e,n,r){for(const a of r)(Array.isArray(e[a])||"number"==typeof e[a])&&(Array.isArray(e[a])?e[a]=t.getIds(n,e[a]):e[a]=t.getId(n,e[a]));return e}replaceIds(t,e,n){return this.replace(this.crossOriginIframeMirror,t,e,n)}replaceStyleIds(t,e,n){return this.replace(this.crossOriginIframeStyleMirror,t,e,n)}replaceIdOnNode(t,e){this.replaceIds(t,e,["id"]),"childNodes"in t&&t.childNodes.forEach((t=>{this.replaceIdOnNode(t,e)}))}}class At{constructor(t){this.shadowDoms=new WeakSet,this.restorePatches=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror;const e=this;this.restorePatches.push(U(Element.prototype,"attachShadow",(function(t){return function(n){const r=t.call(this,n);return this.shadowRoot&&e.addShadowRoot(this.shadowRoot,this.ownerDocument),r}})))}addShadowRoot(t,e){c(t)&&(this.shadowDoms.has(t)||(this.shadowDoms.add(t),mt(Object.assign(Object.assign({},this.bypassOptions),{doc:e,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t),ft(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),setTimeout((()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),Ct({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t)}),0)))}observeAttachShadow(t){if(t.contentWindow){const e=this;this.restorePatches.push(U(t.contentWindow.HTMLElement.prototype,"attachShadow",(function(n){return function(r){const a=n.call(this,r);return this.shadowRoot&&e.addShadowRoot(this.shadowRoot,t.contentDocument),a}})))}}reset(){this.restorePatches.forEach((t=>t())),this.shadowDoms=new WeakSet}}for(var xt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rt="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Tt=0;Tt<64;Tt++)Rt[xt.charCodeAt(Tt)]=Tt;const Mt=new Map,Et=(t,e,n)=>{if(!t||!Ft(t,e)&&"object"!=typeof t)return;const r=function(t,e){let n=Mt.get(t);return n||(n=new Map,Mt.set(t,n)),n.has(e)||n.set(e,[]),n.get(e)}(n,t.constructor.name);let a=r.indexOf(t);return-1===a&&(a=r.length,r.push(t)),a};function Nt(t,e,n){if(t instanceof Array)return t.map((t=>Nt(t,e,n)));if(null===t)return t;if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray)return{rr_type:t.constructor.name,args:[Object.values(t)]};if(t instanceof ArrayBuffer){const e=t.constructor.name,n=function(t){var e,n=new Uint8Array(t),r=n.length,a="";for(e=0;e<r;e+=3)a+=xt[n[e]>>2],a+=xt[(3&n[e])<<4|n[e+1]>>4],a+=xt[(15&n[e+1])<<2|n[e+2]>>6],a+=xt[63&n[e+2]];return r%3==2?a=a.substring(0,a.length-1)+"=":r%3==1&&(a=a.substring(0,a.length-2)+"=="),a}(t);return{rr_type:e,base64:n}}if(t instanceof DataView)return{rr_type:t.constructor.name,args:[Nt(t.buffer,e,n),t.byteOffset,t.byteLength]};if(t instanceof HTMLImageElement){const e=t.constructor.name,{src:n}=t;return{rr_type:e,src:n}}return t instanceof HTMLCanvasElement?{rr_type:"HTMLImageElement",src:t.toDataURL()}:t instanceof ImageData?{rr_type:t.constructor.name,args:[Nt(t.data,e,n),t.width,t.height]}:Ft(t,e)||"object"==typeof t?{rr_type:t.constructor.name,index:Et(t,e,n)}:t}const Ot=(t,e,n)=>[...t].map((t=>Nt(t,e,n))),Ft=(t,e)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((t=>"function"==typeof e[t]));return Boolean(n.find((n=>t instanceof e[n])))};function Dt(t,e,n){const r=[];try{const a=U(t.HTMLCanvasElement.prototype,"getContext",(function(t){return function(r,...a){return G(this,e,n,!0)||"__context"in this||(this.__context=r),t.apply(this,[r,...a])}}));r.push(a)}catch(t){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{r.forEach((t=>t()))}}function Lt(t,e,n,r,a,i,s){const o=[],l=Object.getOwnPropertyNames(t);for(const i of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(i))try{if("function"!=typeof t[i])continue;const l=U(t,i,(function(t){return function(...o){const l=t.apply(this,o);if(Et(l,s,this),!G(this.canvas,r,a,!0)){const t=Ot([...o],s,this),r={type:e,property:i,args:t};n(this.canvas,r)}return l}}));o.push(l)}catch(r){const a=Z(t,i,{set(t){n(this.canvas,{type:e,property:i,args:[t],setter:!0})}});o.push(a)}return o}var zt=null;try{var Zt="undefined"!=typeof module&&"function"==typeof module.require&&module.require("worker_threads")||"function"==typeof require&&require("worker_threads")||"function"==typeof require&&require("worker_threads");zt=Zt.Worker}catch(t){}var Ut,Bt,Wt=(Ut="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLg0KDQogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55DQogICAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLg0KDQogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgNCiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkNCiAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsDQogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NDQogICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1INCiAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SDQogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4NCiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqLw0KDQogICAgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikgew0KICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH0NCiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7DQogICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvclsidGhyb3ciXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfQ0KICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpOw0KICAgICAgICB9KTsNCiAgICB9CgogICAgLyoKICAgICAqIGJhc2U2NC1hcnJheWJ1ZmZlciAxLjAuMSA8aHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2Jhc2U2NC1hcnJheWJ1ZmZlcj4KICAgICAqIENvcHlyaWdodCAoYykgMjAyMSBOaWtsYXMgdm9uIEhlcnR6ZW4gPGh0dHBzOi8vaGVydHplbi5jb20+CiAgICAgKiBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZQogICAgICovCiAgICB2YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7CiAgICAvLyBVc2UgYSBsb29rdXAgdGFibGUgdG8gZmluZCB0aGUgaW5kZXguCiAgICB2YXIgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykgewogICAgICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7CiAgICB9CiAgICB2YXIgZW5jb2RlID0gZnVuY3Rpb24gKGFycmF5YnVmZmVyKSB7CiAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpLCBpLCBsZW4gPSBieXRlcy5sZW5ndGgsIGJhc2U2NCA9ICcnOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMykgewogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTsKICAgICAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107CiAgICAgICAgfQogICAgICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgJz0nOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgJz09JzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJhc2U2NDsKICAgIH07CgogICAgY29uc3QgbGFzdEJsb2JNYXAgPSBuZXcgTWFwKCk7DQogICAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gbmV3IE1hcCgpOw0KICAgIGZ1bmN0aW9uIGdldFRyYW5zcGFyZW50QmxvYkZvcih3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucykgew0KICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgICAgICAgICAgY29uc3QgaWQgPSBgJHt3aWR0aH0tJHtoZWlnaHR9YDsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgaWYgKHRyYW5zcGFyZW50QmxvYk1hcC5oYXMoaWQpKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNwYXJlbnRCbG9iTWFwLmdldChpZCk7DQogICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsNCiAgICAgICAgICAgICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgnMmQnKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0geWllbGQgYmxvYi5hcnJheUJ1ZmZlcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7DQogICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTY0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQogICAgY29uc3Qgd29ya2VyID0gc2VsZjsNCiAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBpZCwgYml0bWFwLCB3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zKTsNCiAgICAgICAgICAgICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCcyZCcpOw0KICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwKTsNCiAgICAgICAgICAgICAgICBiaXRtYXAuY2xvc2UoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7DQogICAgICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSB5aWVsZCBibG9iLmFycmF5QnVmZmVyKCk7DQogICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsNCiAgICAgICAgICAgICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgKHlpZWxkIHRyYW5zcGFyZW50QmFzZTY0KSA9PT0gYmFzZTY0KSB7DQogICAgICAgICAgICAgICAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7DQogICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgICAgICAgIHR5cGUsDQogICAgICAgICAgICAgICAgICAgIGJhc2U2NCwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGgsDQogICAgICAgICAgICAgICAgICAgIGhlaWdodCwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfTsKCn0pKCk7Cgo=",Bt=!1,"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)?function(t,e,n){var r=void 0===e?null:e,a=function(t,e){return Buffer.from(t,"base64").toString(e?"utf16":"utf8")}(t,void 0!==n&&n),i=a.indexOf("\n",10)+1,s=a.substring(i)+(r?"//# sourceMappingURL="+r:"");return function(t){return new zt(s,Object.assign({},t,{eval:!0}))}}(Ut,null,Bt):function(t){var e;return function(n){return e=e||function(t,e,n){var r=void 0===e?null:e,a=function(t,e){var n=atob(t);if(e){for(var r=new Uint8Array(n.length),a=0,i=n.length;a<i;++a)r[a]=n.charCodeAt(a);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return n}(t,void 0!==n&&n),i=a.indexOf("\n",10)+1,s=a.substring(i)+(r?"//# sourceMappingURL="+r:""),o=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(o)}(t,null,false),new Worker(e,n)}}(Ut));class Gt{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(t,e)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(t)||this.pendingCanvasMutations.set(t,[]),this.pendingCanvasMutations.get(t).push(e)};const{sampling:e="all",win:n,blockClass:r,blockSelector:a,recordCanvas:i,dataURLOptions:s}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,i&&"all"===e&&this.initCanvasMutationObserver(n,r,a),i&&"number"==typeof e&&this.initCanvasFPSObserver(e,n,r,a,{dataURLOptions:s})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(t,e,n,r,a){const i=Dt(e,n,r),s=new Map,o=new Wt;o.onmessage=t=>{const{id:e}=t.data;if(s.set(e,!1),!("base64"in t.data))return;const{base64:n,type:r,width:a,height:i}=t.data;this.mutationCb({id:e,type:$["2D"],commands:[{property:"clearRect",args:[0,0,a,i]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:n}],type:r}]},0,0]}]})};const l=1e3/t;let d,c=0;const h=t=>{c&&t-c<l||(c=t,(()=>{const t=[];return e.document.querySelectorAll("canvas").forEach((e=>{G(e,n,r,!0)||t.push(e)})),t})().forEach((t=>{return e=this,n=void 0,i=function*(){var e;const n=this.mirror.getId(t);if(s.get(n))return;if(s.set(n,!0),["webgl","webgl2"].includes(t.__context)){const n=t.getContext(t.__context);!1===(null===(e=null==n?void 0:n.getContextAttributes())||void 0===e?void 0:e.preserveDrawingBuffer)&&(null==n||n.clear(n.COLOR_BUFFER_BIT))}const r=yield createImageBitmap(t);o.postMessage({id:n,bitmap:r,width:t.width,height:t.height,dataURLOptions:a.dataURLOptions},[r])},new((r=void 0)||(r=Promise))((function(t,a){function s(t){try{l(i.next(t))}catch(t){a(t)}}function o(t){try{l(i.throw(t))}catch(t){a(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,o)}l((i=i.apply(e,n||[])).next())}));var e,n,r,i}))),d=requestAnimationFrame(h)};d=requestAnimationFrame(h),this.resetObservers=()=>{i(),cancelAnimationFrame(d)}}initCanvasMutationObserver(t,e,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const r=Dt(t,e,n),a=function(t,e,n,r){const a=[],i=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype);for(const s of i)try{if("function"!=typeof e.CanvasRenderingContext2D.prototype[s])continue;const i=U(e.CanvasRenderingContext2D.prototype,s,(function(a){return function(...i){return G(this.canvas,n,r,!0)||setTimeout((()=>{const n=Ot([...i],e,this);t(this.canvas,{type:$["2D"],property:s,args:n})}),0),a.apply(this,i)}}));a.push(i)}catch(n){const r=Z(e.CanvasRenderingContext2D.prototype,s,{set(e){t(this.canvas,{type:$["2D"],property:s,args:[e],setter:!0})}});a.push(r)}return()=>{a.forEach((t=>t()))}}(this.processMutation.bind(this),t,e,n),i=function(t,e,n,r){const a=[];return a.push(...Lt(e.WebGLRenderingContext.prototype,$.WebGL,t,n,r,0,e)),void 0!==e.WebGL2RenderingContext&&a.push(...Lt(e.WebGL2RenderingContext.prototype,$.WebGL2,t,n,r,0,e)),()=>{a.forEach((t=>t()))}}(this.processMutation.bind(this),t,e,n,this.mirror);this.resetObservers=()=>{r(),a(),i()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const t=e=>{this.rafStamps.latestId=e,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((t,e)=>{const n=this.mirror.getId(e);this.flushPendingCanvasMutationFor(e,n)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(t,e){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(t);if(!n||-1===e)return;const r=n.map((t=>{const e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n}(t,["type"]);return e})),{type:a}=n[0];this.mutationCb({id:e,type:a,commands:r}),this.pendingCanvasMutations.delete(t)}}class Vt{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new P,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,e){"_cssText"in e.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:e.id,attributes:e.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,e){if(0===t.length)return;const n={id:e,styleIds:[]},r=[];for(const e of t){let t;if(this.styleMirror.has(e))t=this.styleMirror.getId(e);else{t=this.styleMirror.add(e);const n=Array.from(e.rules||CSSRule);r.push({styleId:t,rules:n.map(((t,e)=>({rule:u(t),index:e})))})}n.styleIds.push(t)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}function Kt(t){return Object.assign(Object.assign({},t),{timestamp:Date.now()})}let Yt,jt,Ht,Jt=!1;const Pt=new p;function Qt(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:a="rr-block",blockSelector:i=null,ignoreClass:s="rr-ignore",maskTextClass:o="rr-mask",maskTextSelector:l=null,inlineStylesheet:d=!0,maskAllInputs:c,maskInputOptions:h,slimDOMOptions:u,maskInputFn:g,maskTextFn:m,hooks:f,packFn:b,sampling:y={},dataURLOptions:I={},mousemoveWait:_,recordCanvas:w=!1,recordCrossOriginIframes:C=!1,userTriggeredOnInput:v=!1,collectFonts:k=!1,inlineImages:S=!1,plugins:A,keepIframeSrcFn:x=()=>!1,ignoreCSSAttributes:R=new Set([])}=t,T=!C||window.parent===window;let M=!1;if(!T)try{window.parent.document,M=!1}catch(t){M=!0}if(T&&!e)throw new Error("emit function is required");void 0!==_&&void 0===y.mousemove&&(y.mousemove=_),Pt.reset();const E=!0===c?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==h?h:{password:!0},N=!0===u||"all"===u?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===u,headMetaDescKeywords:"all"===u}:u||{};let D;!function(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let e=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1})}();let L=0;const z=t=>{for(const e of A||[])e.eventProcessor&&(t=e.eventProcessor(t));return b&&(t=b(t)),t};Yt=(t,a)=>{var i;if(!(null===(i=dt[0])||void 0===i?void 0:i.isFrozen())||t.type===Q.FullSnapshot||t.type===Q.IncrementalSnapshot&&t.data.source===X.Mutation||dt.forEach((t=>t.unfreeze())),T)null==e||e(z(t),a);else if(M){const e={type:"rrweb",event:z(t),isCheckout:a};window.parent.postMessage(e,"*")}if(t.type===Q.FullSnapshot)D=t,L=0;else if(t.type===Q.IncrementalSnapshot){if(t.data.source===X.Mutation&&t.data.isAttachIframe)return;L++;const e=r&&L>=r,a=n&&t.timestamp-D.timestamp>n;(e||a)&&jt(!0)}};const Z=t=>{Yt(Kt({type:Q.IncrementalSnapshot,data:Object.assign({source:X.Mutation},t)}))},U=t=>Yt(Kt({type:Q.IncrementalSnapshot,data:Object.assign({source:X.Scroll},t)})),G=t=>Yt(Kt({type:Q.IncrementalSnapshot,data:Object.assign({source:X.CanvasMutation},t)})),V=new Vt({mutationCb:Z,adoptedStyleSheetCb:t=>Yt(Kt({type:Q.IncrementalSnapshot,data:Object.assign({source:X.AdoptedStyleSheet},t)}))}),K=new St({mirror:Pt,mutationCb:Z,stylesheetManager:V,recordCrossOriginIframes:C,wrappedEmit:Yt});for(const t of A||[])t.getMirror&&t.getMirror({nodeMirror:Pt,crossOriginIframeMirror:K.crossOriginIframeMirror,crossOriginIframeStyleMirror:K.crossOriginIframeStyleMirror});Ht=new Gt({recordCanvas:w,mutationCb:G,win:window,blockClass:a,blockSelector:i,mirror:Pt,sampling:y.canvas,dataURLOptions:I});const Y=new At({mutationCb:Z,scrollCb:U,bypassOptions:{blockClass:a,blockSelector:i,maskTextClass:o,maskTextSelector:l,inlineStylesheet:d,maskInputOptions:E,dataURLOptions:I,maskTextFn:m,maskInputFn:g,recordCanvas:w,inlineImages:S,sampling:y,slimDOMOptions:N,iframeManager:K,stylesheetManager:V,canvasManager:Ht,keepIframeSrcFn:x},mirror:Pt});jt=(t=!1)=>{var e,n,r,s,c,h;Yt(Kt({type:Q.Meta,data:{href:window.location.href,width:W(),height:B()}}),t),V.reset(),dt.forEach((t=>t.lock()));const u=function(t,e){var n=e||{},r=n.mirror,a=void 0===r?new p:r,i=n.blockClass,s=n.blockSelector,o=n.maskTextClass,l=n.maskTextSelector,d=n.inlineStylesheet,c=n.inlineImages,h=n.recordCanvas,u=n.maskAllInputs,g=void 0!==u&&u,m=n.slimDOM,f=void 0!==m&&m,b=n.keepIframeSrcFn;return O(t,{doc:t,mirror:a,blockClass:void 0===i?"rr-block":i,blockSelector:void 0===s?null:s,maskTextClass:void 0===o?"rr-mask":o,maskTextSelector:void 0===l?null:l,skipChild:!1,inlineStylesheet:void 0===d||d,maskInputOptions:!0===g?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===g?{password:!0}:g,maskTextFn:n.maskTextFn,maskInputFn:n.maskInputFn,slimDOMOptions:!0===f||"all"===f?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===f,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===f?{}:f,dataURLOptions:n.dataURLOptions,inlineImages:void 0!==c&&c,recordCanvas:void 0!==h&&h,preserveWhiteSpace:n.preserveWhiteSpace,onSerialize:n.onSerialize,onIframeLoad:n.onIframeLoad,iframeLoadTimeout:n.iframeLoadTimeout,onStylesheetLoad:n.onStylesheetLoad,stylesheetLoadTimeout:n.stylesheetLoadTimeout,keepIframeSrcFn:void 0===b?function(){return!1}:b,newlyAddedElement:!1})}(document,{mirror:Pt,blockClass:a,blockSelector:i,maskTextClass:o,maskTextSelector:l,inlineStylesheet:d,maskAllInputs:E,maskTextFn:m,slimDOM:N,dataURLOptions:I,recordCanvas:w,inlineImages:S,onSerialize:t=>{j(t,Pt)&&K.addIframe(t),H(t,Pt)&&V.trackLinkElement(t),J(t)&&Y.addShadowRoot(t.shadowRoot,document)},onIframeLoad:(t,e)=>{K.attachIframe(t,e),Y.observeAttachShadow(t)},onStylesheetLoad:(t,e)=>{V.attachLinkElement(t,e)},keepIframeSrcFn:x});if(!u)return console.warn("Failed to snapshot the document");Yt(Kt({type:Q.FullSnapshot,data:{node:u,initialOffset:{left:void 0!==window.pageXOffset?window.pageXOffset:(null===document||void 0===document?void 0:document.documentElement.scrollLeft)||(null===(n=null===(e=null===document||void 0===document?void 0:document.body)||void 0===e?void 0:e.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===(r=null===document||void 0===document?void 0:document.body)||void 0===r?void 0:r.scrollLeft)||0,top:void 0!==window.pageYOffset?window.pageYOffset:(null===document||void 0===document?void 0:document.documentElement.scrollTop)||(null===(c=null===(s=null===document||void 0===document?void 0:document.body)||void 0===s?void 0:s.parentElement)||void 0===c?void 0:c.scrollTop)||(null===(h=null===document||void 0===document?void 0:document.body)||void 0===h?void 0:h.scrollTop)||0}}})),dt.forEach((t=>t.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&V.adoptStyleSheets(document.adoptedStyleSheets,Pt.getId(document))};try{const t=[];t.push(F("DOMContentLoaded",(()=>{Yt(Kt({type:Q.DomContentLoaded,data:{}}))})));const e=t=>{var e;return vt({mutationCb:Z,mousemoveCb:(t,e)=>Yt(Kt({type:Q.IncrementalSnapshot,data:{source:e,positions:t}})),mouseInteractionCb:t=>Yt(Kt({type:Q.IncrementalSnapshot,data:Object.assign({source:X.MouseInteraction},t)})),scrollCb:U,viewportResizeCb:t=>Yt(Kt({type:Q.IncrementalSnapshot,data:Object.assign({source:X.ViewportResize},t)})),inputCb:t=>Yt(Kt({type:Q.IncrementalSnapshot,data:Object.assign({source:X.Input},t)})),mediaInteractionCb:t=>Yt(Kt({type:Q.IncrementalSnapshot,data:Object.assign({source:X.MediaInteraction},t)})),styleSheetRuleCb:t=>Yt(Kt({type:Q.IncrementalSnapshot,data:Object.assign({source:X.StyleSheetRule},t)})),styleDeclarationCb:t=>Yt(Kt({type:Q.IncrementalSnapshot,data:Object.assign({source:X.StyleDeclaration},t)})),canvasMutationCb:G,fontCb:t=>Yt(Kt({type:Q.IncrementalSnapshot,data:Object.assign({source:X.Font},t)})),selectionCb:t=>{Yt(Kt({type:Q.IncrementalSnapshot,data:Object.assign({source:X.Selection},t)}))},blockClass:a,ignoreClass:s,maskTextClass:o,maskTextSelector:l,maskInputOptions:E,inlineStylesheet:d,sampling:y,recordCanvas:w,inlineImages:S,userTriggeredOnInput:v,collectFonts:k,doc:t,maskInputFn:g,maskTextFn:m,keepIframeSrcFn:x,blockSelector:i,slimDOMOptions:N,dataURLOptions:I,mirror:Pt,iframeManager:K,stylesheetManager:V,shadowDomManager:Y,canvasManager:Ht,ignoreCSSAttributes:R,plugins:(null===(e=null==A?void 0:A.filter((t=>t.observer)))||void 0===e?void 0:e.map((t=>({observer:t.observer,options:t.options,callback:e=>Yt(Kt({type:Q.Plugin,data:{plugin:t.name,payload:e}}))}))))||[]},f)};K.addLoadListener((n=>{t.push(e(n.contentDocument))}));const n=()=>{jt(),t.push(e(document)),Jt=!0};return"interactive"===document.readyState||"complete"===document.readyState?n():t.push(F("load",(()=>{Yt(Kt({type:Q.Load,data:{}})),n()}),window)),()=>{t.forEach((t=>t())),Jt=!1}}catch(t){console.warn(t)}}Qt.addCustomEvent=(t,e)=>{if(!Jt)throw new Error("please add custom event after start recording");Yt(Kt({type:Q.Custom,data:{tag:t,payload:e}}))},Qt.freezePage=()=>{dt.forEach((t=>t.freeze()))},Qt.takeFullSnapshot=t=>{if(!Jt)throw new Error("please take full snapshot after start recording");jt(t)},Qt.mirror=Pt;const Xt={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let qt;const $t=new Uint8Array(16);function te(){if(!qt){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qt=crypto.getRandomValues.bind(crypto)}return qt($t)}const ee=[];for(let t=0;t<256;++t)ee.push((t+256).toString(16).slice(1));const ne=function(t,e,n){if(Xt.randomUUID&&!e&&!t)return Xt.randomUUID();const r=(t=t||{}).random||(t.rng||te)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return(ee[t[e+0]]+ee[t[e+1]]+ee[t[e+2]]+ee[t[e+3]]+"-"+ee[t[e+4]]+ee[t[e+5]]+"-"+ee[t[e+6]]+ee[t[e+7]]+"-"+ee[t[e+8]]+ee[t[e+9]]+"-"+ee[t[e+10]]+ee[t[e+11]]+ee[t[e+12]]+ee[t[e+13]]+ee[t[e+14]]+ee[t[e+15]]).toLowerCase()}(r)};function re(t){let e=t.length;for(;--e>=0;)t[e]=0}const ae=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ie=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),se=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),oe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),le=new Array(576);re(le);const de=new Array(60);re(de);const ce=new Array(512);re(ce);const he=new Array(256);re(he);const ue=new Array(29);re(ue);const pe=new Array(30);function ge(t,e,n,r,a){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=t&&t.length}let me,fe,be;function ye(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}re(pe);const Ie=t=>t<256?ce[t]:ce[256+(t>>>7)],_e=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},we=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,_e(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Ce=(t,e,n)=>{we(t,n[2*e],n[2*e+1])},ve=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},ke=(t,e,n)=>{const r=new Array(16);let a,i,s=0;for(a=1;a<=15;a++)s=s+n[a-1]<<1,r[a]=s;for(i=0;i<=e;i++){let e=t[2*i+1];0!==e&&(t[2*i]=ve(r[e]++,e))}},Se=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Ae=t=>{t.bi_valid>8?_e(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},xe=(t,e,n,r)=>{const a=2*e,i=2*n;return t[a]<t[i]||t[a]===t[i]&&r[e]<=r[n]},Re=(t,e,n)=>{const r=t.heap[n];let a=n<<1;for(;a<=t.heap_len&&(a<t.heap_len&&xe(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!xe(e,r,t.heap[a],t.depth));)t.heap[n]=t.heap[a],n=a,a<<=1;t.heap[n]=r},Te=(t,e,n)=>{let r,a,i,s,o=0;if(0!==t.sym_next)do{r=255&t.pending_buf[t.sym_buf+o++],r+=(255&t.pending_buf[t.sym_buf+o++])<<8,a=t.pending_buf[t.sym_buf+o++],0===r?Ce(t,a,e):(i=he[a],Ce(t,i+256+1,e),s=ae[i],0!==s&&(a-=ue[i],we(t,a,s)),r--,i=Ie(r),Ce(t,i,n),s=ie[i],0!==s&&(r-=pe[i],we(t,r,s)))}while(o<t.sym_next);Ce(t,256,e)},Me=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,a=e.stat_desc.has_stree,i=e.stat_desc.elems;let s,o,l,d=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<i;s++)0!==n[2*s]?(t.heap[++t.heap_len]=d=s,t.depth[s]=0):n[2*s+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=d<2?++d:0,n[2*l]=1,t.depth[l]=0,t.opt_len--,a&&(t.static_len-=r[2*l+1]);for(e.max_code=d,s=t.heap_len>>1;s>=1;s--)Re(t,n,s);l=i;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Re(t,n,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,n[2*l]=n[2*s]+n[2*o],t.depth[l]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,n[2*s+1]=n[2*o+1]=l,t.heap[1]=l++,Re(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,r=e.max_code,a=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let d,c,h,u,p,g,m=0;for(u=0;u<=15;u++)t.bl_count[u]=0;for(n[2*t.heap[t.heap_max]+1]=0,d=t.heap_max+1;d<573;d++)c=t.heap[d],u=n[2*n[2*c+1]+1]+1,u>l&&(u=l,m++),n[2*c+1]=u,c>r||(t.bl_count[u]++,p=0,c>=o&&(p=s[c-o]),g=n[2*c],t.opt_len+=g*(u+p),i&&(t.static_len+=g*(a[2*c+1]+p)));if(0!==m){do{for(u=l-1;0===t.bl_count[u];)u--;t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(u=l;0!==u;u--)for(c=t.bl_count[u];0!==c;)h=t.heap[--d],h>r||(n[2*h+1]!==u&&(t.opt_len+=(u-n[2*h+1])*n[2*h],n[2*h+1]=u),c--)}})(t,e),ke(n,d,t.bl_count)},Ee=(t,e,n)=>{let r,a,i=-1,s=e[1],o=0,l=7,d=4;for(0===s&&(l=138,d=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)a=s,s=e[2*(r+1)+1],++o<l&&a===s||(o<d?t.bl_tree[2*a]+=o:0!==a?(a!==i&&t.bl_tree[2*a]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,i=a,0===s?(l=138,d=3):a===s?(l=6,d=3):(l=7,d=4))},Ne=(t,e,n)=>{let r,a,i=-1,s=e[1],o=0,l=7,d=4;for(0===s&&(l=138,d=3),r=0;r<=n;r++)if(a=s,s=e[2*(r+1)+1],!(++o<l&&a===s)){if(o<d)do{Ce(t,a,t.bl_tree)}while(0!=--o);else 0!==a?(a!==i&&(Ce(t,a,t.bl_tree),o--),Ce(t,16,t.bl_tree),we(t,o-3,2)):o<=10?(Ce(t,17,t.bl_tree),we(t,o-3,3)):(Ce(t,18,t.bl_tree),we(t,o-11,7));o=0,i=a,0===s?(l=138,d=3):a===s?(l=6,d=3):(l=7,d=4)}};let Oe=!1;const Fe=(t,e,n,r)=>{we(t,0+(r?1:0),3),Ae(t),_e(t,n),_e(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var De={_tr_init:t=>{Oe||((()=>{let t,e,n,r,a;const i=new Array(16);for(n=0,r=0;r<28;r++)for(ue[r]=n,t=0;t<1<<ae[r];t++)he[n++]=r;for(he[n-1]=r,a=0,r=0;r<16;r++)for(pe[r]=a,t=0;t<1<<ie[r];t++)ce[a++]=r;for(a>>=7;r<30;r++)for(pe[r]=a<<7,t=0;t<1<<ie[r]-7;t++)ce[256+a++]=r;for(e=0;e<=15;e++)i[e]=0;for(t=0;t<=143;)le[2*t+1]=8,t++,i[8]++;for(;t<=255;)le[2*t+1]=9,t++,i[9]++;for(;t<=279;)le[2*t+1]=7,t++,i[7]++;for(;t<=287;)le[2*t+1]=8,t++,i[8]++;for(ke(le,287,i),t=0;t<30;t++)de[2*t+1]=5,de[2*t]=ve(t,5);me=new ge(le,ae,257,286,15),fe=new ge(de,ie,0,30,15),be=new ge(new Array(0),se,0,19,7)})(),Oe=!0),t.l_desc=new ye(t.dyn_ltree,me),t.d_desc=new ye(t.dyn_dtree,fe),t.bl_desc=new ye(t.bl_tree,be),t.bi_buf=0,t.bi_valid=0,Se(t)},_tr_stored_block:Fe,_tr_flush_block:(t,e,n,r)=>{let a,i,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),Me(t,t.l_desc),Me(t,t.d_desc),s=(t=>{let e;for(Ee(t,t.dyn_ltree,t.l_desc.max_code),Ee(t,t.dyn_dtree,t.d_desc.max_code),Me(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*oe[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),a=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==e?Fe(t,e,n,r):4===t.strategy||i===a?(we(t,2+(r?1:0),3),Te(t,le,de)):(we(t,4+(r?1:0),3),((t,e,n,r)=>{let a;for(we(t,e-257,5),we(t,n-1,5),we(t,r-4,4),a=0;a<r;a++)we(t,t.bl_tree[2*oe[a]+1],3);Ne(t,t.dyn_ltree,e-1),Ne(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),Te(t,t.dyn_ltree,t.dyn_dtree)),Se(t),r&&Ae(t)},_tr_tally:(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(he[n]+256+1)]++,t.dyn_dtree[2*Ie(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{we(t,2,3),Ce(t,256,le),(t=>{16===t.bi_valid?(_e(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},Le=(t,e,n,r)=>{let a=65535&t,i=t>>>16&65535,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{a=a+e[r++]|0,i=i+a|0}while(--s);a%=65521,i%=65521}return a|i<<16};const ze=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var Ze=(t,e,n,r)=>{const a=ze,i=r+n;t^=-1;for(let n=r;n<i;n++)t=t>>>8^a[255&(t^e[n])];return~t},Ue={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Be={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:We,_tr_stored_block:Ge,_tr_flush_block:Ve,_tr_tally:Ke,_tr_align:Ye}=De,{Z_NO_FLUSH:je,Z_PARTIAL_FLUSH:He,Z_FULL_FLUSH:Je,Z_FINISH:Pe,Z_BLOCK:Qe,Z_OK:Xe,Z_STREAM_END:qe,Z_STREAM_ERROR:$e,Z_DATA_ERROR:tn,Z_BUF_ERROR:en,Z_DEFAULT_COMPRESSION:nn,Z_FILTERED:rn,Z_HUFFMAN_ONLY:an,Z_RLE:sn,Z_FIXED:on,Z_DEFAULT_STRATEGY:ln,Z_UNKNOWN:dn,Z_DEFLATED:cn}=Be,hn=258,un=262,pn=42,gn=113,mn=666,fn=(t,e)=>(t.msg=Ue[e],e),bn=t=>2*t-(t>4?9:0),yn=t=>{let e=t.length;for(;--e>=0;)t[e]=0},In=t=>{let e,n,r,a=t.w_size;e=t.hash_size,r=e;do{n=t.head[--r],t.head[r]=n>=a?n-a:0}while(--e);e=a,r=e;do{n=t.prev[--r],t.prev[r]=n>=a?n-a:0}while(--e)};let _n=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const wn=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},Cn=(t,e)=>{Ve(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,wn(t.strm)},vn=(t,e)=>{t.pending_buf[t.pending++]=e},kn=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Sn=(t,e,n,r)=>{let a=t.avail_in;return a>r&&(a=r),0===a?0:(t.avail_in-=a,e.set(t.input.subarray(t.next_in,t.next_in+a),n),1===t.state.wrap?t.adler=Le(t.adler,e,a,n):2===t.state.wrap&&(t.adler=Ze(t.adler,e,a,n)),t.next_in+=a,t.total_in+=a,a)},An=(t,e)=>{let n,r,a=t.max_chain_length,i=t.strstart,s=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-un?t.strstart-(t.w_size-un):0,d=t.window,c=t.w_mask,h=t.prev,u=t.strstart+hn;let p=d[i+s-1],g=d[i+s];t.prev_length>=t.good_match&&(a>>=2),o>t.lookahead&&(o=t.lookahead);do{if(n=e,d[n+s]===g&&d[n+s-1]===p&&d[n]===d[i]&&d[++n]===d[i+1]){i+=2,n++;do{}while(d[++i]===d[++n]&&d[++i]===d[++n]&&d[++i]===d[++n]&&d[++i]===d[++n]&&d[++i]===d[++n]&&d[++i]===d[++n]&&d[++i]===d[++n]&&d[++i]===d[++n]&&i<u);if(r=hn-(u-i),i=u-hn,r>s){if(t.match_start=e,s=r,r>=o)break;p=d[i+s-1],g=d[i+s]}}}while((e=h[e&c])>l&&0!=--a);return s<=t.lookahead?s:t.lookahead},xn=t=>{const e=t.w_size;let n,r,a;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-un)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),In(t),r+=e),0===t.strm.avail_in)break;if(n=Sn(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=_n(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=_n(t,t.ins_h,t.window[a+3-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<un&&0!==t.strm.avail_in)},Rn=(t,e)=>{let n,r,a,i=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,o=t.strm.avail_in;do{if(n=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a)break;if(a=t.strm.avail_out-a,r=t.strstart-t.block_start,n>r+t.strm.avail_in&&(n=r+t.strm.avail_in),n>a&&(n=a),n<i&&(0===n&&e!==Pe||e===je||n!==r+t.strm.avail_in))break;s=e===Pe&&n===r+t.strm.avail_in?1:0,Ge(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,wn(t.strm),r&&(r>n&&(r=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,n-=r),n&&(Sn(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===s);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==je&&e!==Pe&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(Sn(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,i=a>t.w_size?t.w_size:a,r=t.strstart-t.block_start,(r>=i||(r||e===Pe)&&e!==je&&0===t.strm.avail_in&&r<=a)&&(n=r>a?a:r,s=e===Pe&&0===t.strm.avail_in&&n===r?1:0,Ge(t,t.block_start,n,s),t.block_start+=n,wn(t.strm)),s?3:1)},Tn=(t,e)=>{let n,r;for(;;){if(t.lookahead<un){if(xn(t),t.lookahead<un&&e===je)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=_n(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-un&&(t.match_length=An(t,n)),t.match_length>=3)if(r=Ke(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=_n(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=_n(t,t.ins_h,t.window[t.strstart+1]);else r=Ke(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Cn(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Pe?(Cn(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Cn(t,!1),0===t.strm.avail_out)?1:2},Mn=(t,e)=>{let n,r,a;for(;;){if(t.lookahead<un){if(xn(t),t.lookahead<un&&e===je)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=_n(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-un&&(t.match_length=An(t,n),t.match_length<=5&&(t.strategy===rn||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-3,r=Ke(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=a&&(t.ins_h=_n(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(Cn(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=Ke(t,0,t.window[t.strstart-1]),r&&Cn(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Ke(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Pe?(Cn(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Cn(t,!1),0===t.strm.avail_out)?1:2};function En(t,e,n,r,a){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=a}const Nn=[new En(0,0,0,0,Rn),new En(4,4,8,4,Tn),new En(4,5,16,8,Tn),new En(4,6,32,32,Tn),new En(4,4,16,16,Mn),new En(8,16,32,32,Mn),new En(8,16,128,128,Mn),new En(8,32,128,256,Mn),new En(32,128,258,1024,Mn),new En(32,258,258,4096,Mn)];function On(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=cn,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),yn(this.dyn_ltree),yn(this.dyn_dtree),yn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),yn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),yn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Fn=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==pn&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==gn&&e.status!==mn?1:0},Dn=t=>{if(Fn(t))return fn(t,$e);t.total_in=t.total_out=0,t.data_type=dn;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?pn:gn,t.adler=2===e.wrap?0:1,e.last_flush=-2,We(e),Xe},Ln=t=>{const e=Dn(t);var n;return e===Xe&&((n=t.state).window_size=2*n.w_size,yn(n.head),n.max_lazy_match=Nn[n.level].max_lazy,n.good_match=Nn[n.level].good_length,n.nice_match=Nn[n.level].nice_length,n.max_chain_length=Nn[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),e},zn=(t,e,n,r,a,i)=>{if(!t)return $e;let s=1;if(e===nn&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||n!==cn||r<8||r>15||e<0||e>9||i<0||i>on||8===r&&1!==s)return fn(t,$e);8===r&&(r=9);const o=new On;return t.state=o,o.strm=t,o.status=pn,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=e,o.strategy=i,o.method=n,Ln(t)};var Zn=zn,Un=(t,e)=>Fn(t)||2!==t.state.wrap?$e:(t.state.gzhead=e,Xe),Bn=(t,e)=>{if(Fn(t)||e>Qe||e<0)return t?fn(t,$e):$e;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===mn&&e!==Pe)return fn(t,0===t.avail_out?en:$e);const r=n.last_flush;if(n.last_flush=e,0!==n.pending){if(wn(t),0===t.avail_out)return n.last_flush=-1,Xe}else if(0===t.avail_in&&bn(e)<=bn(r)&&e!==Pe)return fn(t,en);if(n.status===mn&&0!==t.avail_in)return fn(t,en);if(n.status===pn&&0===n.wrap&&(n.status=gn),n.status===pn){let e=cn+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=an||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=r<<6,0!==n.strstart&&(e|=32),e+=31-e%31,kn(n,e),0!==n.strstart&&(kn(n,t.adler>>>16),kn(n,65535&t.adler)),t.adler=1,n.status=gn,wn(t),0!==n.pending)return n.last_flush=-1,Xe}if(57===n.status)if(t.adler=0,vn(n,31),vn(n,139),vn(n,8),n.gzhead)vn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),vn(n,255&n.gzhead.time),vn(n,n.gzhead.time>>8&255),vn(n,n.gzhead.time>>16&255),vn(n,n.gzhead.time>>24&255),vn(n,9===n.level?2:n.strategy>=an||n.level<2?4:0),vn(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(vn(n,255&n.gzhead.extra.length),vn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Ze(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(vn(n,0),vn(n,0),vn(n,0),vn(n,0),vn(n,0),vn(n,9===n.level?2:n.strategy>=an||n.level<2?4:0),vn(n,3),n.status=gn,wn(t),0!==n.pending)return n.last_flush=-1,Xe;if(69===n.status){if(n.gzhead.extra){let e=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>e&&(t.adler=Ze(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex+=a,wn(t),0!==n.pending)return n.last_flush=-1,Xe;e=0,r-=a}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>e&&(t.adler=Ze(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=Ze(t.adler,n.pending_buf,n.pending-r,r)),wn(t),0!==n.pending)return n.last_flush=-1,Xe;r=0}e=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,vn(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=Ze(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=Ze(t.adler,n.pending_buf,n.pending-r,r)),wn(t),0!==n.pending)return n.last_flush=-1,Xe;r=0}e=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,vn(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=Ze(t.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(wn(t),0!==n.pending))return n.last_flush=-1,Xe;vn(n,255&t.adler),vn(n,t.adler>>8&255),t.adler=0}if(n.status=gn,wn(t),0!==n.pending)return n.last_flush=-1,Xe}if(0!==t.avail_in||0!==n.lookahead||e!==je&&n.status!==mn){let r=0===n.level?Rn(n,e):n.strategy===an?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(xn(t),0===t.lookahead)){if(e===je)return 1;break}if(t.match_length=0,n=Ke(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Cn(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Pe?(Cn(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Cn(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===sn?((t,e)=>{let n,r,a,i;const s=t.window;for(;;){if(t.lookahead<=hn){if(xn(t),t.lookahead<=hn&&e===je)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(a=t.strstart-1,r=s[a],r===s[++a]&&r===s[++a]&&r===s[++a])){i=t.strstart+hn;do{}while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<i);t.match_length=hn-(i-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=Ke(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Ke(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Cn(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Pe?(Cn(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Cn(t,!1),0===t.strm.avail_out)?1:2})(n,e):Nn[n.level].func(n,e);if(3!==r&&4!==r||(n.status=mn),1===r||3===r)return 0===t.avail_out&&(n.last_flush=-1),Xe;if(2===r&&(e===He?Ye(n):e!==Qe&&(Ge(n,0,0,!1),e===Je&&(yn(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),wn(t),0===t.avail_out))return n.last_flush=-1,Xe}return e!==Pe?Xe:n.wrap<=0?qe:(2===n.wrap?(vn(n,255&t.adler),vn(n,t.adler>>8&255),vn(n,t.adler>>16&255),vn(n,t.adler>>24&255),vn(n,255&t.total_in),vn(n,t.total_in>>8&255),vn(n,t.total_in>>16&255),vn(n,t.total_in>>24&255)):(kn(n,t.adler>>>16),kn(n,65535&t.adler)),wn(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Xe:qe)},Wn=t=>{if(Fn(t))return $e;const e=t.state.status;return t.state=null,e===gn?fn(t,tn):Xe},Gn=(t,e)=>{let n=e.length;if(Fn(t))return $e;const r=t.state,a=r.wrap;if(2===a||1===a&&r.status!==pn||r.lookahead)return $e;if(1===a&&(t.adler=Le(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===a&&(yn(r.head),r.strstart=0,r.block_start=0,r.insert=0);let t=new Uint8Array(r.w_size);t.set(e.subarray(n-r.w_size,n),0),e=t,n=r.w_size}const i=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,xn(r);r.lookahead>=3;){let t=r.strstart,e=r.lookahead-2;do{r.ins_h=_n(r,r.ins_h,r.window[t+3-1]),r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++}while(--e);r.strstart=t,r.lookahead=2,xn(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=s,t.input=o,t.avail_in=i,r.wrap=a,Xe};const Vn=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Kn=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const e in n)Vn(n,e)&&(t[e]=n[e])}}return t},Yn=t=>{let e=0;for(let n=0,r=t.length;n<r;n++)e+=t[n].length;const n=new Uint8Array(e);for(let e=0,r=0,a=t.length;e<a;e++){let a=t[e];n.set(a,r),r+=a.length}return n};let jn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){jn=!1}const Hn=new Uint8Array(256);for(let t=0;t<256;t++)Hn[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Hn[254]=Hn[254]=1;var Jn=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,r,a,i,s=t.length,o=0;for(a=0;a<s;a++)n=t.charCodeAt(a),55296==(64512&n)&&a+1<s&&(r=t.charCodeAt(a+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),i=0,a=0;i<o;a++)n=t.charCodeAt(a),55296==(64512&n)&&a+1<s&&(r=t.charCodeAt(a+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|63&n):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|63&n):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|63&n);return e},Pn=(t,e)=>{const n=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let r,a;const i=new Array(2*n);for(a=0,r=0;r<n;){let e=t[r++];if(e<128){i[a++]=e;continue}let s=Hn[e];if(s>4)i[a++]=65533,r+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&r<n;)e=e<<6|63&t[r++],s--;s>1?i[a++]=65533:e<65536?i[a++]=e:(e-=65536,i[a++]=55296|e>>10&1023,i[a++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&jn)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n})(i,a)},Qn=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+Hn[t[n]]>e?n:e},Xn=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const qn=Object.prototype.toString,{Z_NO_FLUSH:$n,Z_SYNC_FLUSH:tr,Z_FULL_FLUSH:er,Z_FINISH:nr,Z_OK:rr,Z_STREAM_END:ar,Z_DEFAULT_COMPRESSION:ir,Z_DEFAULT_STRATEGY:sr,Z_DEFLATED:or}=Be;function lr(t){this.options=Kn({level:ir,method:or,chunkSize:16384,windowBits:15,memLevel:8,strategy:sr},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xn,this.strm.avail_out=0;let n=Zn(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==rr)throw new Error(Ue[n]);if(e.header&&Un(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Jn(e.dictionary):"[object ArrayBuffer]"===qn.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=Gn(this.strm,t),n!==rr)throw new Error(Ue[n]);this._dict_set=!0}}function dr(t,e){const n=new lr(e);if(n.push(t,!0),n.err)throw n.msg||Ue[n.err];return n.result}lr.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let a,i;if(this.ended)return!1;for(i=e===~~e?e:!0===e?nr:$n,"string"==typeof t?n.input=Jn(t):"[object ArrayBuffer]"===qn.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===tr||i===er)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(a=Bn(n,i),a===ar)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=Wn(this.strm),this.onEnd(a),this.ended=!0,a===rr;if(0!==n.avail_out){if(i>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},lr.prototype.onData=function(t){this.chunks.push(t)},lr.prototype.onEnd=function(t){t===rr&&(this.result=Yn(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var cr={Deflate:lr,deflate:dr,deflateRaw:function(t,e){return(e=e||{}).raw=!0,dr(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,dr(t,e)},constants:Be};const hr=16209;var ur=function(t,e){let n,r,a,i,s,o,l,d,c,h,u,p,g,m,f,b,y,I,_,w,C,v,k,S;const A=t.state;n=t.next_in,k=t.input,r=n+(t.avail_in-5),a=t.next_out,S=t.output,i=a-(e-t.avail_out),s=a+(t.avail_out-257),o=A.dmax,l=A.wsize,d=A.whave,c=A.wnext,h=A.window,u=A.hold,p=A.bits,g=A.lencode,m=A.distcode,f=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;t:do{p<15&&(u+=k[n++]<<p,p+=8,u+=k[n++]<<p,p+=8),y=g[u&f];e:for(;;){if(I=y>>>24,u>>>=I,p-=I,I=y>>>16&255,0===I)S[a++]=65535&y;else{if(!(16&I)){if(64&I){if(32&I){A.mode=16191;break t}t.msg="invalid literal/length code",A.mode=hr;break t}y=g[(65535&y)+(u&(1<<I)-1)];continue e}for(_=65535&y,I&=15,I&&(p<I&&(u+=k[n++]<<p,p+=8),_+=u&(1<<I)-1,u>>>=I,p-=I),p<15&&(u+=k[n++]<<p,p+=8,u+=k[n++]<<p,p+=8),y=m[u&b];;){if(I=y>>>24,u>>>=I,p-=I,I=y>>>16&255,16&I){if(w=65535&y,I&=15,p<I&&(u+=k[n++]<<p,p+=8,p<I&&(u+=k[n++]<<p,p+=8)),w+=u&(1<<I)-1,w>o){t.msg="invalid distance too far back",A.mode=hr;break t}if(u>>>=I,p-=I,I=a-i,w>I){if(I=w-I,I>d&&A.sane){t.msg="invalid distance too far back",A.mode=hr;break t}if(C=0,v=h,0===c){if(C+=l-I,I<_){_-=I;do{S[a++]=h[C++]}while(--I);C=a-w,v=S}}else if(c<I){if(C+=l+c-I,I-=c,I<_){_-=I;do{S[a++]=h[C++]}while(--I);if(C=0,c<_){I=c,_-=I;do{S[a++]=h[C++]}while(--I);C=a-w,v=S}}}else if(C+=c-I,I<_){_-=I;do{S[a++]=h[C++]}while(--I);C=a-w,v=S}for(;_>2;)S[a++]=v[C++],S[a++]=v[C++],S[a++]=v[C++],_-=3;_&&(S[a++]=v[C++],_>1&&(S[a++]=v[C++]))}else{C=a-w;do{S[a++]=S[C++],S[a++]=S[C++],S[a++]=S[C++],_-=3}while(_>2);_&&(S[a++]=S[C++],_>1&&(S[a++]=S[C++]))}break}if(64&I){t.msg="invalid distance code",A.mode=hr;break t}y=m[(65535&y)+(u&(1<<I)-1)]}}break}}while(n<r&&a<s);_=p>>3,n-=_,p-=_<<3,u&=(1<<p)-1,t.next_in=n,t.next_out=a,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=a<s?s-a+257:257-(a-s),A.hold=u,A.bits=p};const pr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gr=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var br=(t,e,n,r,a,i,s,o)=>{const l=o.bits;let d,c,h,u,p,g,m=0,f=0,b=0,y=0,I=0,_=0,w=0,C=0,v=0,k=0,S=null;const A=new Uint16Array(16),x=new Uint16Array(16);let R,T,M,E=null;for(m=0;m<=15;m++)A[m]=0;for(f=0;f<r;f++)A[e[n+f]]++;for(I=l,y=15;y>=1&&0===A[y];y--);if(I>y&&(I=y),0===y)return a[i++]=20971520,a[i++]=20971520,o.bits=1,0;for(b=1;b<y&&0===A[b];b++);for(I<b&&(I=b),C=1,m=1;m<=15;m++)if(C<<=1,C-=A[m],C<0)return-1;if(C>0&&(0===t||1!==y))return-1;for(x[1]=0,m=1;m<15;m++)x[m+1]=x[m]+A[m];for(f=0;f<r;f++)0!==e[n+f]&&(s[x[e[n+f]]++]=f);if(0===t?(S=E=s,g=20):1===t?(S=pr,E=gr,g=257):(S=mr,E=fr,g=0),k=0,f=0,m=b,p=i,_=I,w=0,h=-1,v=1<<I,u=v-1,1===t&&v>852||2===t&&v>592)return 1;for(;;){R=m-w,s[f]+1<g?(T=0,M=s[f]):s[f]>=g?(T=E[s[f]-g],M=S[s[f]-g]):(T=96,M=0),d=1<<m-w,c=1<<_,b=c;do{c-=d,a[p+(k>>w)+c]=R<<24|T<<16|M}while(0!==c);for(d=1<<m-1;k&d;)d>>=1;if(0!==d?(k&=d-1,k+=d):k=0,f++,0==--A[m]){if(m===y)break;m=e[n+s[f]]}if(m>I&&(k&u)!==h){for(0===w&&(w=I),p+=b,_=m-w,C=1<<_;_+w<y&&(C-=A[_+w],!(C<=0));)_++,C<<=1;if(v+=1<<_,1===t&&v>852||2===t&&v>592)return 1;h=k&u,a[h]=I<<24|_<<16|p-i}}return 0!==k&&(a[p+k]=m-w<<24|64<<16),o.bits=I,0};const{Z_FINISH:yr,Z_BLOCK:Ir,Z_TREES:_r,Z_OK:wr,Z_STREAM_END:Cr,Z_NEED_DICT:vr,Z_STREAM_ERROR:kr,Z_DATA_ERROR:Sr,Z_MEM_ERROR:Ar,Z_BUF_ERROR:xr,Z_DEFLATED:Rr}=Be,Tr=16180,Mr=16190,Er=16191,Nr=16192,Or=16194,Fr=16199,Dr=16200,Lr=16206,zr=16209,Zr=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Ur(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Br=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Tr||e.mode>16211?1:0},Wr=t=>{if(Br(t))return kr;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Tr,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,wr},Gr=t=>{if(Br(t))return kr;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Wr(t)},Vr=(t,e)=>{let n;if(Br(t))return kr;const r=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?kr:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Gr(t))},Kr=(t,e)=>{if(!t)return kr;const n=new Ur;t.state=n,n.strm=t,n.window=null,n.mode=Tr;const r=Vr(t,e);return r!==wr&&(t.state=null),r};let Yr,jr,Hr=!0;const Jr=t=>{if(Hr){Yr=new Int32Array(512),jr=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(br(1,t.lens,0,288,Yr,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;br(2,t.lens,0,32,jr,0,t.work,{bits:5}),Hr=!1}t.lencode=Yr,t.lenbits=9,t.distcode=jr,t.distbits=5},Pr=(t,e,n,r)=>{let a;const i=t.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(e.subarray(n-r,n-r+a),i.wnext),(r-=a)?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0};var Qr=Gr,Xr=Kr,qr=(t,e)=>{let n,r,a,i,s,o,l,d,c,h,u,p,g,m,f,b,y,I,_,w,C,v,k=0;const S=new Uint8Array(4);let A,x;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Br(t)||!t.output||!t.input&&0!==t.avail_in)return kr;n=t.state,n.mode===Er&&(n.mode=Nr),s=t.next_out,a=t.output,l=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,d=n.hold,c=n.bits,h=o,u=l,v=wr;t:for(;;)switch(n.mode){case Tr:if(0===n.wrap){n.mode=Nr;break}for(;c<16;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}if(2&n.wrap&&35615===d){0===n.wbits&&(n.wbits=15),n.check=0,S[0]=255&d,S[1]=d>>>8&255,n.check=Ze(n.check,S,2,0),d=0,c=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){t.msg="incorrect header check",n.mode=zr;break}if((15&d)!==Rr){t.msg="unknown compression method",n.mode=zr;break}if(d>>>=4,c-=4,C=8+(15&d),0===n.wbits&&(n.wbits=C),C>15||C>n.wbits){t.msg="invalid window size",n.mode=zr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&d?16189:Er,d=0,c=0;break;case 16181:for(;c<16;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}if(n.flags=d,(255&n.flags)!==Rr){t.msg="unknown compression method",n.mode=zr;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=zr;break}n.head&&(n.head.text=d>>8&1),512&n.flags&&4&n.wrap&&(S[0]=255&d,S[1]=d>>>8&255,n.check=Ze(n.check,S,2,0)),d=0,c=0,n.mode=16182;case 16182:for(;c<32;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}n.head&&(n.head.time=d),512&n.flags&&4&n.wrap&&(S[0]=255&d,S[1]=d>>>8&255,S[2]=d>>>16&255,S[3]=d>>>24&255,n.check=Ze(n.check,S,4,0)),d=0,c=0,n.mode=16183;case 16183:for(;c<16;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),512&n.flags&&4&n.wrap&&(S[0]=255&d,S[1]=d>>>8&255,n.check=Ze(n.check,S,2,0)),d=0,c=0,n.mode=16184;case 16184:if(1024&n.flags){for(;c<16;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}n.length=d,n.head&&(n.head.extra_len=d),512&n.flags&&4&n.wrap&&(S[0]=255&d,S[1]=d>>>8&255,n.check=Ze(n.check,S,2,0)),d=0,c=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(p=n.length,p>o&&(p=o),p&&(n.head&&(C=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+p),C)),512&n.flags&&4&n.wrap&&(n.check=Ze(n.check,r,p,i)),o-=p,i+=p,n.length-=p),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break t;p=0;do{C=r[i+p++],n.head&&C&&n.length<65536&&(n.head.name+=String.fromCharCode(C))}while(C&&p<o);if(512&n.flags&&4&n.wrap&&(n.check=Ze(n.check,r,p,i)),o-=p,i+=p,C)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break t;p=0;do{C=r[i+p++],n.head&&C&&n.length<65536&&(n.head.comment+=String.fromCharCode(C))}while(C&&p<o);if(512&n.flags&&4&n.wrap&&(n.check=Ze(n.check,r,p,i)),o-=p,i+=p,C)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;c<16;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}if(4&n.wrap&&d!==(65535&n.check)){t.msg="header crc mismatch",n.mode=zr;break}d=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Er;break;case 16189:for(;c<32;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}t.adler=n.check=Zr(d),d=0,c=0,n.mode=Mr;case Mr:if(0===n.havedict)return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,n.hold=d,n.bits=c,vr;t.adler=n.check=1,n.mode=Er;case Er:if(e===Ir||e===_r)break t;case Nr:if(n.last){d>>>=7&c,c-=7&c,n.mode=Lr;break}for(;c<3;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}switch(n.last=1&d,d>>>=1,c-=1,3&d){case 0:n.mode=16193;break;case 1:if(Jr(n),n.mode=Fr,e===_r){d>>>=2,c-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=zr}d>>>=2,c-=2;break;case 16193:for(d>>>=7&c,c-=7&c;c<32;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}if((65535&d)!=(d>>>16^65535)){t.msg="invalid stored block lengths",n.mode=zr;break}if(n.length=65535&d,d=0,c=0,n.mode=Or,e===_r)break t;case Or:n.mode=16195;case 16195:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),0===p)break t;a.set(r.subarray(i,i+p),s),o-=p,i+=p,l-=p,s+=p,n.length-=p;break}n.mode=Er;break;case 16196:for(;c<14;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}if(n.nlen=257+(31&d),d>>>=5,c-=5,n.ndist=1+(31&d),d>>>=5,c-=5,n.ncode=4+(15&d),d>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=zr;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;c<3;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}n.lens[R[n.have++]]=7&d,d>>>=3,c-=3}for(;n.have<19;)n.lens[R[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},v=br(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,v){t.msg="invalid code lengths set",n.mode=zr;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[d&(1<<n.lenbits)-1],f=k>>>24,b=k>>>16&255,y=65535&k,!(f<=c);){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}if(y<16)d>>>=f,c-=f,n.lens[n.have++]=y;else{if(16===y){for(x=f+2;c<x;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}if(d>>>=f,c-=f,0===n.have){t.msg="invalid bit length repeat",n.mode=zr;break}C=n.lens[n.have-1],p=3+(3&d),d>>>=2,c-=2}else if(17===y){for(x=f+3;c<x;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}d>>>=f,c-=f,C=0,p=3+(7&d),d>>>=3,c-=3}else{for(x=f+7;c<x;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}d>>>=f,c-=f,C=0,p=11+(127&d),d>>>=7,c-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=zr;break}for(;p--;)n.lens[n.have++]=C}}if(n.mode===zr)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=zr;break}if(n.lenbits=9,A={bits:n.lenbits},v=br(1,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,v){t.msg="invalid literal/lengths set",n.mode=zr;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},v=br(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,v){t.msg="invalid distances set",n.mode=zr;break}if(n.mode=Fr,e===_r)break t;case Fr:n.mode=Dr;case Dr:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,n.hold=d,n.bits=c,ur(t,u),s=t.next_out,a=t.output,l=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,d=n.hold,c=n.bits,n.mode===Er&&(n.back=-1);break}for(n.back=0;k=n.lencode[d&(1<<n.lenbits)-1],f=k>>>24,b=k>>>16&255,y=65535&k,!(f<=c);){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}if(b&&!(240&b)){for(I=f,_=b,w=y;k=n.lencode[w+((d&(1<<I+_)-1)>>I)],f=k>>>24,b=k>>>16&255,y=65535&k,!(I+f<=c);){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}d>>>=I,c-=I,n.back+=I}if(d>>>=f,c-=f,n.back+=f,n.length=y,0===b){n.mode=16205;break}if(32&b){n.back=-1,n.mode=Er;break}if(64&b){t.msg="invalid literal/length code",n.mode=zr;break}n.extra=15&b,n.mode=16201;case 16201:if(n.extra){for(x=n.extra;c<x;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;k=n.distcode[d&(1<<n.distbits)-1],f=k>>>24,b=k>>>16&255,y=65535&k,!(f<=c);){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}if(!(240&b)){for(I=f,_=b,w=y;k=n.distcode[w+((d&(1<<I+_)-1)>>I)],f=k>>>24,b=k>>>16&255,y=65535&k,!(I+f<=c);){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}d>>>=I,c-=I,n.back+=I}if(d>>>=f,c-=f,n.back+=f,64&b){t.msg="invalid distance code",n.mode=zr;break}n.offset=y,n.extra=15&b,n.mode=16203;case 16203:if(n.extra){for(x=n.extra;c<x;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=zr;break}n.mode=16204;case 16204:if(0===l)break t;if(p=u-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=zr;break}p>n.wnext?(p-=n.wnext,g=n.wsize-p):g=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=a,g=s-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do{a[s++]=m[g++]}while(--p);0===n.length&&(n.mode=Dr);break;case 16205:if(0===l)break t;a[s++]=n.length,l--,n.mode=Dr;break;case Lr:if(n.wrap){for(;c<32;){if(0===o)break t;o--,d|=r[i++]<<c,c+=8}if(u-=l,t.total_out+=u,n.total+=u,4&n.wrap&&u&&(t.adler=n.check=n.flags?Ze(n.check,a,u,s-u):Le(n.check,a,u,s-u)),u=l,4&n.wrap&&(n.flags?d:Zr(d))!==n.check){t.msg="incorrect data check",n.mode=zr;break}d=0,c=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;c<32;){if(0===o)break t;o--,d+=r[i++]<<c,c+=8}if(4&n.wrap&&d!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=zr;break}d=0,c=0}n.mode=16208;case 16208:v=Cr;break t;case zr:v=Sr;break t;case 16210:return Ar;default:return kr}return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,n.hold=d,n.bits=c,(n.wsize||u!==t.avail_out&&n.mode<zr&&(n.mode<Lr||e!==yr))&&Pr(t,t.output,t.next_out,u-t.avail_out),h-=t.avail_in,u-=t.avail_out,t.total_in+=h,t.total_out+=u,n.total+=u,4&n.wrap&&u&&(t.adler=n.check=n.flags?Ze(n.check,a,u,t.next_out-u):Le(n.check,a,u,t.next_out-u)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Er?128:0)+(n.mode===Fr||n.mode===Or?256:0),(0===h&&0===u||e===yr)&&v===wr&&(v=xr),v},$r=t=>{if(Br(t))return kr;let e=t.state;return e.window&&(e.window=null),t.state=null,wr},ta=(t,e)=>{if(Br(t))return kr;const n=t.state;return 2&n.wrap?(n.head=e,e.done=!1,wr):kr},ea=(t,e)=>{const n=e.length;let r,a,i;return Br(t)?kr:(r=t.state,0!==r.wrap&&r.mode!==Mr?kr:r.mode===Mr&&(a=1,a=Le(a,e,n,0),a!==r.check)?Sr:(i=Pr(t,e,n,n),i?(r.mode=16210,Ar):(r.havedict=1,wr)))},na=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const ra=Object.prototype.toString,{Z_NO_FLUSH:aa,Z_FINISH:ia,Z_OK:sa,Z_STREAM_END:oa,Z_NEED_DICT:la,Z_STREAM_ERROR:da,Z_DATA_ERROR:ca,Z_MEM_ERROR:ha}=Be;function ua(t){this.options=Kn({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xn,this.strm.avail_out=0;let n=Xr(this.strm,e.windowBits);if(n!==sa)throw new Error(Ue[n]);if(this.header=new na,ta(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Jn(e.dictionary):"[object ArrayBuffer]"===ra.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=ea(this.strm,e.dictionary),n!==sa)))throw new Error(Ue[n])}function pa(t,e){const n=new ua(e);if(n.push(t),n.err)throw n.msg||Ue[n.err];return n.result}ua.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(s=e===~~e?e:!0===e?ia:aa,"[object ArrayBuffer]"===ra.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=qr(n,s),i===la&&a&&(i=ea(n,a),i===sa?i=qr(n,s):i===ca&&(i=la));n.avail_in>0&&i===oa&&n.state.wrap>0&&0!==t[n.next_in];)Qr(n),i=qr(n,s);switch(i){case da:case ca:case la:case ha:return this.onEnd(i),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||i===oa))if("string"===this.options.to){let t=Qn(n.output,n.next_out),e=n.next_out-t,a=Pn(n.output,t);n.next_out=e,n.avail_out=r-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(a)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==sa||0!==o){if(i===oa)return i=$r(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},ua.prototype.onData=function(t){this.chunks.push(t)},ua.prototype.onEnd=function(t){t===sa&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Yn(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ga={Inflate:ua,inflate:pa,inflateRaw:function(t,e){return(e=e||{}).raw=!0,pa(t,e)},ungzip:pa,constants:Be};const{Deflate:ma,deflate:fa,deflateRaw:ba,gzip:ya}=cr,{Inflate:Ia,inflate:_a,inflateRaw:wa,ungzip:Ca}=ga;var va={Deflate:ma,deflate:fa,deflateRaw:ba,gzip:ya,Inflate:Ia,inflate:_a,inflateRaw:wa,ungzip:Ca,constants:Be};class ka{constructor(t){this.events=[],this.flushInterval=1e4,this.initialFlushTimeout=3e3,this.hasScreenshot=!1,this.sessionId=ne(),this.websiteId=t.websiteId,this.collectorUrl=t.collectorUrl||"https://gaha.vercel.app",this.startedAt=Date.now(),this.lastEventTime=this.startedAt,this.events.push({type:0,data:{href:window.location.href,width:window.innerWidth,height:window.innerHeight},timestamp:this.startedAt}),this.startRecording(),this.setupInitialFlush()}startRecording(){Qt({emit:t=>{this.events.push(t),this.lastEventTime=Date.now()},sampling:{mousemove:50,scroll:150},blockClass:"privacy",maskTextClass:"mask-text",collectFonts:!0})}setupInitialFlush(){this.timeoutId=window.setTimeout((()=>{this.flush(),this.setupFlushInterval()}),this.initialFlushTimeout)}setupFlushInterval(){this.intervalId=window.setInterval((()=>{this.flush()}),this.flushInterval)}async flush(){if(0===this.events.length)return;let t=null;this.hasScreenshot||(t=await this.getPageScreenshot(),this.hasScreenshot=!0);const e=await this.compressEvents(this.events),n={id:this.sessionId,site_id:this.websiteId,started_at:this.startedAt,duration:this.lastEventTime-this.startedAt,user_agent:navigator.userAgent,screen_width:window.screen.width,screen_height:window.screen.height,events:e,screenshot:t};try{if(navigator.sendBeacon){const t=new Blob([JSON.stringify(n)],{type:"application/json"});if(navigator.sendBeacon(`${this.collectorUrl}/api/collect`,t))return this.events=[],void this.checkSessionReset()}(await fetch(`${this.collectorUrl}/api/collect`,{method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip"},body:JSON.stringify(n),keepalive:!0})).ok&&(this.events=[],this.checkSessionReset())}catch(t){console.error("Failed to send session data:",t)}}checkSessionReset(){this.lastEventTime-this.startedAt>18e5&&(this.sessionId=ne(),this.startedAt=Date.now(),this.hasScreenshot=!1)}async compressEvents(t){const e=JSON.stringify(t),n=(new TextEncoder).encode(e),r=va.gzip(n);return btoa(String.fromCharCode.apply(null,Array.from(r)))}stop(){this.intervalId&&window.clearInterval(this.intervalId),this.timeoutId&&window.clearTimeout(this.timeoutId),this.flush()}async getPageScreenshot(){try{const t=(await s.e(317).then(s.t.bind(s,317,23))).default;return(await t(document.documentElement,{useCORS:!0,scale:1,logging:!1,allowTaint:!0})).toDataURL("image/jpeg",.95)}catch(t){return console.error("Failed to capture screenshot:",t),null}}}if("undefined"!=typeof window&&window._r){const t=new ka({websiteId:window._r.websiteId,collectorUrl:window._r.collectorUrl});window.addEventListener("unload",(()=>{t.stop()}))}return l.default})()));